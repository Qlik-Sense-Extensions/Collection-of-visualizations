var visualize=function(e,t,a,l){var o=t.qInfo.qId+"_chartjs_bar",i=l.calculateMargin(e,t),n=i[0],s=i[1],r=[],c=0;"auto"==t.colors?(r=l.defineColorPalette("palette"),c=t.color):r=t.custom_colors.split("-");var u="rgba("+r[c]+","+t.opacity+")";e.html('<canvas id="'+o+'" width="'+n+'" height="'+s+'"></canvas>');var d=t.qHyperCube.qDataPages[0].qMatrix;t.cumulative&&(d=l.addCumulativeValues(d));var b=document.getElementById(o);new Chart(b,{type:"bar",data:{labels:d.map(function(e){return e[0].qText}),datasets:[{label:t.qHyperCube.qMeasureInfo[0].qFallbackTitle,data:d.map(function(e){return e[1].qNum}),backgroundColor:u,borderColor:u,borderWidth:1}]},options:{title:{display:t.title_switch,text:t.title},legend:{display:"hide"!=t.legend_position,position:t.legend_position,onClick:function(e,t){}},scales:{xAxes:[{scaleLabel:{display:t.datalabel_switch,labelString:t.qHyperCube.qDimensionInfo[0].qFallbackTitle}}],yAxes:[{scaleLabel:{display:t.datalabel_switch,labelString:t.qHyperCube.qMeasureInfo[0].qFallbackTitle},ticks:{beginAtZero:t.begin_at_zero_switch,callback:function(e,a,o){return l.formatMeasure(e,t,0)}}}]},tooltips:{mode:"label",callbacks:{label:function(e,a){return a.datasets[e.datasetIndex].label+": "+l.formatMeasure(e.yLabel,t,0)}}},responsive:!0,events:["mousemove","mouseout","click","touchstart","touchmove","touchend"],onClick:function(e){var t=this.getElementsAtEvent(e);t.length>0&&l.makeSelectionsOnDataPoints(d[t[0]._index][0].qElemNumber,a)}}})};