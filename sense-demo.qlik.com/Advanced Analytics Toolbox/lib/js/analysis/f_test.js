"use strict";define(["../util/utils","ng!$q"],function(e,t){return{createCube:function(t,a){var r=a.layout,s=e.validateDimension(r.props.dimensions[0]),n=[{qNullSuppression:!0,qDef:{qFieldDefs:[s]}}],i=e.validateMeasure(r.props.measures[0]),d=e.validateMeasure(r.props.measures[1]);e.displayDebugModeMessage(r.props.debugMode);var o=e.getDebugSaveDatasetScript(r.props.debugMode,"debug_f_test.rda"),l="R.ScriptEvalExStr('NN','"+o+" library(jsonlite); res<-var.test(na.omit(q$SampleA),na.omit(q$SampleB), conf.level="+r.props.confidenceLevel+");json<-toJSON(list(res$statistic,res$parameter[1],res$parameter[2],res$p.value,res$conf.int[1],res$conf.int[2],res$estimate));', "+i+" as SampleA, "+d+" as SampleB)";e.displayRScriptsToConsole(r.props.debugMode,[l]);var p=[{qDef:{qLabel:"Results",qDef:l}},{qDef:{qLabel:"-",qDef:""}},{qDef:{qLabel:"-",qDef:""}},{qDef:{qLabel:"-",qDef:""}},{qDef:{qLabel:"-",qDef:""}}];return a.backendApi.applyPatches([{qPath:"/qHyperCubeDef/qDimensions",qOp:"replace",qValue:JSON.stringify(n)},{qPath:"/qHyperCubeDef/qMeasures",qOp:"replace",qValue:JSON.stringify(p)}],!1),a.patchApplied=!0,null},drawChart:function(a){var r=t.defer(),s=a.layout,n=(e.validateDimension(s.props.dimensions[0]),[{qTop:0,qLeft:0,qWidth:6,qHeight:1}]);return a.backendApi.getData(n).then(function(t){a.layout.qHyperCube.qMeasureInfo;if(0===t[0].qMatrix[0][1].qText.length||"-"==t[0].qMatrix[0][1].qText)e.displayConnectionError(a.extId);else{e.displayReturnedDatasetToConsole(s.props.debugMode,t[0]);var n=JSON.parse(t[0].qMatrix[0][1].qText),i=n[0],d=n[1],o=n[2],l=n[3],p=n[4],q=n[5],u=n[6];$(".advanced-analytics-toolsets-"+a.extId).html('\n                <h2>F test to compare two variances</h2>\n                <table class="simple">\n                  <thead>\n                    <tr>\n                      <th>Item</th><th>Value</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr><td>F</td><td>'+i+"</td></tr>\n                    <tr><td>num df</td><td>"+d+"</td></tr>\n                    <tr><td>denom df</td><td>"+o+"</td></tr>\n                    <tr><td>p-value</td><td>"+l+"</td></tr>\n                    <tr><td>"+100*s.props.confidenceLevel+"% confidence interval</td><td>"+p+", "+q+"</td></tr>\n                    <tr><td>Sample estimates</td><td>ratio of variances = "+u+"</td></tr>\n                  </tbody>\n              </table>\n              <div>* alternative hypothesis: true ratio of variances is not equal to 1</div>\n          ")}return r.resolve()}),r.promise}}});
//# sourceMappingURL=../../maps/analysis/f_test.js.map
