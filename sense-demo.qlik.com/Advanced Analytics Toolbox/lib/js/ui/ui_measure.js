"use strict";define(["./ui_element","../../../../../../resources/assets/external/leonardo-ui/leonardo-ui.min.js"],function(e,s){return{registerEvents:function(r,n){r.aggregationList=["Sum","Count","Avg","Min","Max","Log",""];var a=null;r.isMeasureListOpened=[],r.openMeasureList=function(i,o){if(r.isMeasureListOpened[o])r.isMeasureListOpened[o]=!1;else{r.isMeasureListOpened[o]=!0;var t=i.currentTarget;a=s.popover({content:e.listMeasureElement.replace("<id>",""+o),closeOnEscape:!0,dock:"right",alignTo:t,onClose:function(){r.$apply(function(e){e.isMeasureListOpened[o]=!1,e.meaSearchString=""})}}),n($("div.lui-popover"))(r)}},r.drilldownMeasure=function(s,a,i){r.measureId=s;var o=e.listAggrMeasureElement.replace("<measureId>",""+s),t=o.replace("<measureId>",""+s),u=t.replace("<expressionName>",""+a),p=u.replace("<expressionValue>",""+i);$("div.lui-popover").html(p),n($("div.lui-popover"))(r)},r.goBackMeasure=function(s,a){$("div.lui-popover").replaceWith(e.listMeasureElement.replace("<id>",""+a)),n($("div.lui-popover"))(r)},r.selectMeasure=function(e,s,n){for(var i=e;i>=0;i--)"undefined"==typeof r.layout.props.measures[i]&&(e=i);var o=null;o=/\s/.test(n)?s+"(["+n+"])":s+"("+n+")",r.backendApi.applyPatches([{qPath:"/props/measures/"+e,qOp:"add",qValue:JSON.stringify({label:o,expression:o})}],!1),a.close()},r.removeMeasure=function(e){r.backendApi.applyPatches([{qPath:"/props/measures/"+e,qOp:"remove"}],!1)},r.addButton=function(e){r.customMinMeas[e]+=1},r.removeButton=function(e){r.customMinMeas[e]>r.minMeas&&("undefined"!=typeof r.layout.props.measures[r.customMinMeas[e]-1]&&r.removeMeasure(r.customMinMeas[e]-1),r.customMinMeas[e]-=1)}}}});
//# sourceMappingURL=../../maps/ui/ui_measure.js.map
