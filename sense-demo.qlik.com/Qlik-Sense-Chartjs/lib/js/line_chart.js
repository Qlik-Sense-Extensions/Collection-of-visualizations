var visualize=function(a,o,t,e){var l=o.qInfo.qId+"_chartjs_bar",r=e.calculateMargin(a,o),c=r[0],i=r[1];a.html('<canvas id="'+l+'" width="'+c+'" height="'+i+'"></canvas>');var n=[],s=0;"auto"==o.colors?(n=e.defineColorPalette("palette"),s=o.color):n=o.custom_colors.split("-");var u="rgba("+n[s]+","+o.opacity+")",b="",d=[];"auto"==o.colors&&o.background_color_switch?b="rgba("+n[o.background_color]+","+o.opacity+")":"auto"==o.colors?b="rgba("+n[o.color]+","+o.opacity+")":"custom"==o.colors&&o.background_color_switch?(d=o.custom_background_color.split("-"),b="rgba("+d[0]+","+o.opacity+")"):"custom"==o.colors&&(b="rgba("+n[s]+","+o.opacity+")"),o.background_color_switch?"rgba("+n[o.background_color]+","+o.opacity+")":"rgba("+n[o.color]+","+o.opacity+")";var p=o.qHyperCube.qDataPages[0].qMatrix;o.cumulative&&(p=e.addCumulativeValues(p));var g=document.getElementById(l);new Chart(g,{type:"line",data:{labels:p.map(function(a){return a[0].qText}),datasets:[{label:o.qHyperCube.qMeasureInfo[0].qFallbackTitle,fill:o.background_color_switch,data:p.map(function(a){return a[1].qNum}),backgroundColor:b,borderColor:u,pointBackgroundColor:u,borderWidth:1,pointRadius:o.point_radius_size}]},options:{title:{display:o.title_switch,text:o.title},legend:{display:"hide"!=o.legend_position,position:o.legend_position,onClick:function(a,o){}},scales:{xAxes:[{scaleLabel:{display:o.datalabel_switch,labelString:o.qHyperCube.qDimensionInfo[0].qFallbackTitle}}],yAxes:[{scaleLabel:{display:o.datalabel_switch,labelString:o.qHyperCube.qMeasureInfo[0].qFallbackTitle},ticks:{beginAtZero:!0,callback:function(a,t,l){return e.formatMeasure(a,o,0)}}}]},tooltips:{mode:"label",callbacks:{label:function(a,t){return t.datasets[a.datasetIndex].label+": "+e.formatMeasure(a.yLabel,o,0)}}},responsive:!0,events:["mousemove","mouseout","click","touchstart","touchmove","touchend"],onClick:function(a){var o=this.getElementsAtEvent(a);o.length>0&&e.makeSelectionsOnDataPoints(p[o[0]._index][0].qElemNumber,t)}}})};