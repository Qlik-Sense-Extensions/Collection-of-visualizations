{
    "version": 3,
    "sources": [
        "webpack:///webpack/bootstrap ac81d54deb06e9f0fbd4",
        "webpack:///./src/components/tooltip/index.js",
        "webpack:///./src/lib/utilities.js",
        "webpack:///./src/components/barchartcanvas/index.js",
        "webpack:///./src/components/bipartite/index.js",
        "webpack:///./src/components/combo/index.js",
        "webpack:///./src/components/horizontal-bar/index.js",
        "webpack:///./src/components/listbox/index.js",
        "webpack:///./src/components/vertical-bar/index.js",
        "webpack:///./src/lib/definition.js",
        "webpack:///./src/lib/initialProperties.js",
        "webpack:///./src/components/bipartite/viz.js",
        "webpack:///./src/index.js",
        "webpack:///./src/components/barchartcanvas/index.css",
        "webpack:///./src/components/bipartite/index.css",
        "webpack:///./src/components/horizontal-bar/index.css",
        "webpack:///./src/components/listbox/index.css",
        "webpack:///./src/components/tooltip/index.css",
        "webpack:///./src/components/vertical-bar/index.css"
    ],
    "names": [
        "me",
        "d3",
        "vars",
        "cvars",
        "v",
        "name",
        "$",
        "length",
        "attr",
        "html",
        "appendTo",
        "events",
        "element",
        "tooltip",
        "select",
        "append",
        "data",
        "dimension",
        "visible",
        "label",
        "i",
        "measure",
        "color",
        "value",
        "console",
        "info",
        "wrap",
        "text",
        "width",
        "textp",
        "_groups",
        "words",
        "split",
        "reverse",
        "word",
        "line",
        "lineNumber",
        "lineHeight",
        "y",
        "dy",
        "parseFloat",
        "tspan",
        "pop",
        "push",
        "join",
        "node",
        "getComputedTextLength",
        "textHeight",
        "getBBox",
        "height",
        "textY",
        "bar",
        "parseInt",
        "find",
        "each",
        "roundNumber",
        "num",
        "noPrecision",
        "test",
        "precision",
        "toFixed",
        "Math",
        "round",
        "replace",
        "symbol",
        "char",
        "otherPosition",
        "other",
        "$element",
        "mainvars",
        "extend",
        "padding",
        "this",
        "tooltipEl",
        "data2",
        "map",
        "qText",
        "qNum",
        "qElemNumber",
        "log",
        "canvasWidth",
        "canv",
        "id",
        "canvas",
        "document",
        "querySelector",
        "context",
        "getContext",
        "margin",
        "top",
        "right",
        "bottom",
        "left",
        "x",
        "scaleBand",
        "rangeRound",
        "scaleLinear",
        "translate",
        "domain",
        "d",
        "max",
        "measureNum",
        "yTickCount",
        "yTicks",
        "ticks",
        "yTickFormat",
        "tickFormat",
        "beginPath",
        "forEach",
        "moveTo",
        "bandwidth",
        "lineTo",
        "strokeStyle",
        "stroke",
        "textAlign",
        "textBaseline",
        "fillText",
        "fillStyle",
        "fillRect",
        "labelWidth",
        "canvasHeight",
        "palette",
        "viz",
        "pageheight",
        "floor",
        "totalColumns",
        "numberOfPages",
        "ceil",
        "totalRows",
        "lastrow",
        "backendApi",
        "eachDataRow",
        "rownum",
        "row",
        "requestPage",
        "qTop",
        "qLeft",
        "qWidth",
        "qHeight",
        "min",
        "getData",
        "then",
        "dataPages",
        "paint",
        "layout",
        "labels",
        "key",
        "onlyUnique",
        "index",
        "self",
        "indexOf",
        "filter",
        "labelsColors",
        "colorIndex",
        "Object",
        "assign",
        "limit",
        "sort",
        "a",
        "b",
        "sortBCA",
        "css",
        "remove",
        "empty",
        "svg",
        "g",
        "bp",
        "bP",
        "pad",
        "barSize",
        "fill",
        "primary",
        "call",
        "style",
        "dimensionTitle",
        "qFallbackTitle",
        "selectAll",
        "on",
        "mouseover",
        "mouseout",
        "click",
        "part",
        "percent",
        "format",
        "frameElement",
        "stacked",
        "fontSize",
        "spacing",
        "border",
        "borderWeight",
        "fillColor",
        "colorHover",
        "fillHoverColor",
        "textColor",
        "textHoverColor",
        "borderColor",
        "borderColorHover",
        "lollipop",
        "grouped",
        "yaxis",
        "characters",
        "rightPadding",
        "minWidth",
        "footer",
        "xaxis",
        "mashup",
        "divid",
        "scrollLeft",
        "scrollTop",
        "breakpoint",
        "legend",
        "template",
        "verticalGridSpace",
        "verticalGridLines",
        "enableSelections",
        "noData",
        "fillColorByExpr",
        "qHyperCube",
        "qDimensionInfo",
        "qAttrExprInfo",
        "applyPatches",
        "qOp",
        "qPath",
        "qValue",
        "JSON",
        "stringify",
        "qExpression",
        "measurePosition",
        "colorByExpr",
        "measure1",
        "valueFormat",
        "qAttrExps",
        "qValues",
        "content",
        "dMax2",
        "range",
        "hideValues",
        "svgFooter",
        "xAxis",
        "axisBottom",
        "yAxis",
        "axisLeft",
        "tickSize",
        "tickValues",
        "labelPosition",
        "textAnchor",
        "xPosition",
        "align",
        "y_xis",
        "qcx",
        "tooltipData",
        "documentElement",
        "body",
        "offset",
        "event",
        "pageX",
        "pageY",
        "selectElement",
        "xpos",
        "ypos",
        "yposText",
        "app",
        "getList",
        "reply",
        "selectedFields",
        "qSelectionObject",
        "qSelections",
        "qField",
        "show",
        "qSelectedCount",
        "qTotal",
        "hide",
        "bars2",
        "enter",
        "w",
        "xwidth",
        "textWidth",
        "size",
        "columnWidth",
        "measureTitle",
        "multipleSelections",
        "selected",
        "includes",
        "splice",
        "selectValues",
        "listbox",
        "type",
        "patchesApplied",
        "separator",
        "e",
        "qelemnumber",
        "disableSelections",
        "showAll",
        "font",
        "dimension1",
        "component",
        "items",
        "uses",
        "sorting",
        "settings",
        "general",
        "chartSelector",
        "ref",
        "options",
        "defaultValue",
        "customSection",
        "chart",
        "Color",
        "expression",
        "FontSize",
        "customValueFormat",
        "symbolVisible",
        "symbolChar",
        "symbolCharOther",
        "symbolCharOtherPosition",
        "barFillColor",
        "barFillColorByExpr",
        "barFillHoverColor",
        "barTextColor",
        "barTextHoverColor",
        "barBorderWeight",
        "barBorderColor",
        "barBorderColorHover",
        "barSpacing",
        "barHeight",
        "barHideValues",
        "qHyperCubeDef",
        "qMeasures",
        "toolVisible",
        "mashupDiv",
        "xaxisVisible",
        "legendVisible",
        "yaxisVisible",
        "yaxisWidth",
        "yaxisCharacters",
        "yaxisRightPadding",
        "headerCombo",
        "header2item1",
        "generalVertical",
        "fontColor",
        "displayLegend",
        "legendAlignment",
        "yAxisMax",
        "yAxisMin",
        "barWidth",
        "measure1color",
        "measure1stroke",
        "measure1colorHover",
        "measure1strokeColor",
        "measure1strokeColorHover",
        "bipartite",
        "Palette",
        "qDimensions",
        "qInitialDataFetch",
        "qSelectionObjectDef",
        "version",
        "τ",
        "PI",
        "π",
        "π2",
        "key_scale",
        "value_scale",
        "keyPrimary",
        "keySecondary",
        "orient",
        "edgeOpacity",
        "duration",
        "sortPrimary",
        "sortSecondary",
        "edgeMode",
        "_",
        "bars",
        "s",
        "subBars",
        "fx",
        "fy",
        "fw",
        "fh",
        "edges",
        "path",
        "mainBars",
        "arguments",
        "mb",
        "secondary",
        "_or",
        "calculateMainBars",
        "calculateSubBars",
        "floorMainBars",
        "concat",
        "calculateEdges",
        "isSelKey",
        "m",
        "ps",
        "nest",
        "rollup",
        "sum",
        "entries",
        "bpmap",
        "bsize",
        "p",
        "get",
        "values",
        "t",
        "eMode",
        "edgeVert",
        "edgeHoriz",
        "x1",
        "y1",
        "x2",
        "y2",
        "x3",
        "y3",
        "x4",
        "y4",
        "mx1",
        "mx3",
        "my1",
        "my3",
        "r",
        "ln",
        "lp",
        "o",
        "ret",
        "update",
        "_data",
        "b1",
        "dur",
        "transition",
        "newbars",
        "gg",
        "innerRadius",
        "outerRadius",
        "startAngle",
        "endAngle",
        "needleColor",
        "innerFaceColor",
        "faceColor",
        "angleOffset",
        "ease",
        "dpg",
        "majorTicks",
        "minorTickStart",
        "minorTickEnd",
        "majorTickStart",
        "majorTickEnd",
        "labelLocation",
        "def",
        "scale",
        "mS",
        "mE",
        "MS",
        "ME",
        "mT",
        "lL",
        "or",
        "tickg",
        "cos",
        "sin",
        "rot",
        "linear",
        "defs",
        "dg",
        "nc",
        "fc",
        "fbc",
        "lg1",
        "lG",
        "sel",
        "stop",
        "stopColor",
        "rgb",
        "darker",
        "rg1",
        "rG",
        "spreadMethod",
        "rg2",
        "gradientUnits",
        "xlink",
        "fl1",
        "feFlood",
        "result",
        "floodColor",
        "floodOpacity",
        "feComposite",
        "operator",
        "in2",
        "in",
        "feGaussianBlur",
        "stdDeviation",
        "feOffset",
        "dx",
        "fl2",
        "setNeedle",
        "newAngle",
        "oldAngle",
        "d3ease",
        "attrTween",
        "iS",
        "angle",
        "n",
        "interpolateString",
        "ch",
        "source",
        "target",
        "ascending",
        "chordOpacity",
        "labelPadding",
        "reComputeLayout",
        "keys",
        "subgrp",
        "chordExist",
        "groups",
        "chords",
        "newgroups",
        "newchords",
        "relayout",
        "arc",
        "viz_arc",
        "chord",
        "viz_chord",
        "endStartAngle",
        "endEndAngle",
        "grps",
        "lbl",
        "_current",
        "display",
        "relayouts",
        "f",
        "chordTween",
        "interpolate",
        "arcTween",
        "labelTweenx",
        "labelTweeny",
        "gp",
        "opacity",
        "viz_reduceAngle",
        "isBottom",
        "k",
        "l",
        "skipPad",
        "viz_circularPartition",
        "undefined",
        "gi",
        "gia",
        "viz_shiftarray",
        "grpbarsgia",
        "viz_getbars",
        "si",
        "t1",
        "c",
        "subindex",
        "indexsubindex",
        "z",
        "fixedSource",
        "fg",
        "padAngle",
        "mid",
        "sm",
        "g1",
        "a0",
        "gmap",
        "g0",
        "fixed",
        "ind",
        "found",
        "dorder",
        "slice",
        "ta",
        "total",
        "viz_getratio",
        "viz_assign",
        "viz_assign_default",
        "viz_polar",
        "h",
        "tt",
        "h0",
        "h1",
        "polar",
        "ss",
        "se",
        "es",
        "ee",
        "rs",
        "re",
        "pss",
        "pse",
        "pes",
        "pee",
        "curve",
        "p1",
        "a1",
        "pow",
        "a2",
        "define",
        "window",
        "qlik",
        "initialProperties",
        "definition",
        "support",
        "snapshot",
        "export",
        "exportData",
        "currApp",
        "qInfo",
        "qId",
        "qDataPages",
        "qMatrix",
        "qIsNull",
        "qMeasureInfo",
        "qSize",
        "qcy",
        "title",
        "measure2",
        "measure3",
        "measure4",
        "layout2",
        "require",
        "default",
        "removeClass"
    ],
    "mappings": "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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS8G,UAAT,CAAoBrJ,CAApB,EAAuB;AACtB,MAAIxU,CAAJ;AACA,SAAO,UAAUqR,CAAV,EAAa;AACnB,OAAI,CAACW,UAAUtX,MAAf,EAAuB,OAAOsF,CAAP;AACvBA,OAAIqR,CAAJ;AACA,UAAOmD,CAAP;AACA,GAJD;AAKA;AACD,UAASsJ,kBAAT,CAA4BtJ,CAA5B,EAA+BlU,CAA/B,EAAkC;AACjC,MAAIN,CAAJ;AACA,SAAO,UAAUqR,CAAV,EAAa;AACnB,OAAI,CAACW,UAAUtX,MAAf,EAAuB,OAAO,OAAOsF,CAAP,KAAa,WAAb,GAA2BA,CAA3B,GAA+BM,CAAtC;AACvBN,OAAIqR,CAAJ;AACA,UAAOmD,CAAP;AACA,GAJD;AAKA;;AAED,UAASkH,eAAT,CAAyBzX,CAAzB,EAA4B;AAC3B,SAAOA,IAAIsM,CAAX;AAActM,QAAKsM,CAAL;AAAd,GAC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",
    "file": "SenseUI-Charts.js",
    "sourcesContent": [
        " \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac81d54deb06e9f0fbd4",
        "import css from './index.css'\r\n\r\nlet me = (d3, vars) => {\r\n\tconst cvars = {\r\n\t\tv: '1.1.5',\r\n\t\tname: 'SUI-Tooltip',\r\n\t}\r\n\t// Insert the CSS only once\tincase we have multiple charts on the page\r\n\tif (!$(`#sui-tip`).length) {\r\n\t\t$(\"<style>\").attr(\"id\", \"sui-tip\").html(css).appendTo(\"head\")\r\n\t}\r\n\tconst events = {\r\n\t\telement: () => {\r\n\t\t\tlet tooltip = null;\r\n\t\t\t// Create element only once\r\n\t\t\tif (!$('.sui-tip').length) {\r\n\t\t\t\ttooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"sui-tip\");\r\n\t\t\t} else {\r\n\t\t\t\ttooltip = d3.select(\".sui-tip\")\r\n\t\t\t}\r\n\t\t\treturn tooltip\r\n\t\t},\r\n\t\thtml: (data) => {\r\n\t\t\tvar html = `\r\n\t\t\t\t<div class=\"tt-container\">\r\n\t\t\t`;\r\n\t\t\tif (data.dimension.visible) {\r\n\t\t\t\thtml += `<div class=\"tt-row\"><div class=\"tt-item-header\">${data.dimension.label}</div></div>`;\r\n\t\t\t}\r\n\t\t\tfor (let i=0; i<data.measure.length; i++ ) {\r\n\t\t\t\thtml += `\r\n\t\t\t\t\t<div class=\"tt-row\">\r\n\t\t\t\t\t\t<div class=\"tt-item-label\"><div class=\"box\" style=\"background-color: ${data.measure[i].color}\"></div>${data.measure[i].label}:</div>\r\n\t\t\t\t\t\t<div class=\"tt-item-value\">${data.measure[i].value}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t`;\r\n\t\t\t}\r\n\t\t\thtml += `\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\t\r\n\t\t\treturn html;\r\n\t\t}\r\n\t}\r\n\r\n\tconsole.info(`%c ${cvars.name}-${cvars.v}: `, 'color: red', `Loaded!`);\r\n\t\r\n\treturn events\r\n\r\n};\r\n\r\nexport default me;\n\n\n// WEBPACK FOOTER //\n// ./src/components/tooltip/index.js",
        "const me = {}\r\n\r\nme.wrap = (text, width, vars, d3) => {\r\n\tlet textp = text._groups[0]\r\n\tfor (let i = 0; i < textp.length; i++) {\r\n\t\tlet text = d3.select(textp[i]),\r\n\t\t\twords = text.text().split(/\\s+/).reverse(),\r\n\t\t\tword,\r\n\t\t\tline = [],\r\n\t\t\tlineNumber = 0,\r\n\t\t\tlineHeight = 1, // ems\r\n\t\t\ty = text.attr(\"y\"),\r\n\t\t\tdy = parseFloat(text.attr(\"dy\")),\r\n\t\t\ttspan = text.text(null).append(\"tspan\").attr(\"x\", -vars.label.width).attr(\"y\", y).attr(\"dy\", dy + \"em\");\r\n\t\twhile (word = words.pop()) {\r\n\t\t\tline.push(word);\r\n\t\t\ttspan.text(line.join(\" \"));\r\n\t\t\tif (tspan.node().getComputedTextLength() > width - 20) {\r\n\t\t\t\tlineNumber += 1;\r\n\t\t\t\tline.pop();\r\n\t\t\t\ttspan.text(line.join(\" \"));\r\n\t\t\t\tline = [word];\r\n\t\t\t\t// tspan = text.append(\"tspan\").attr(\"x\", -vars.label.width).attr(\"y\", y).attr(\"dy\", lineNumber * lineHeight + dy + \"em\").text(word);\r\n\t\t\t\ttspan = text.append(\"tspan\").attr(\"x\", -vars.label.width).attr(\"y\", y).attr(\"dy\", lineNumber * lineHeight + dy + \"em\").text(word);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Align label at the middle of the bar\r\n\t\tlet textHeight = text._groups[0][0].getBBox().height;\r\n\t\tlet textY = (vars.bar.height > textHeight) ? parseInt(y) + (vars.bar.height / 2) - (textHeight / 2) : parseInt(y);\r\n\t\t$(this).find(\"tspan\").each(() => {\r\n\t\t\t$(this).attr('y', textY);\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// helper Function to round the displayed numbers\r\nme.roundNumber = (vars, num, noPrecision) => {\r\n\t//check if the string passed is number or contains formatting like 13%\r\n\tif (/^[0-9.]+$/.test(num)) {\r\n\t\tnum = (vars.precision && !noPrecision && num > 0) ? parseFloat(num).toFixed(2) : Math.round(num);\r\n\t\tif (num >= 1000 && num < 1000000) {\r\n\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num / 1000).toFixed(2) : Math.round(num / 1000);\r\n\t\t\tif (/\\.00$/.test(num)) {\r\n\t\t\t\tnum = num.replace(/\\.00$/, ''); // Remove .00\r\n\t\t\t}\r\n\t\t\tnum += 'K'; // Add the abbreviation\r\n\t\t} else if (num >= 1000000 && num < 1000000000) {\r\n\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num / 1000000).toFixed(2) : Math.round(num / 1000000);\r\n\t\t\tif (/\\.00$/.test(num)) {\r\n\t\t\t\tnum = num.replace(/\\.00$/, ''); // Remove .00\r\n\t\t\t}\r\n\t\t\tnum += 'M'; // Add the abbreviation\r\n\t\t} else if (num >= 1000000000 && num < 1000000000000) {\r\n\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num / 1000000000).toFixed(2) : Math.round(num / 1000000000);\r\n\t\t\tif (/\\.00$/.test(num)) {\r\n\t\t\t\tnum = num.replace(/\\.00$/, ''); // Remove .00\r\n\t\t\t}\r\n\t\t\tnum += 'G'; // Add the abbreviation\r\n\t\t} else if (num >= 1000000000000) {\r\n\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num / 1000000000000).toFixed(2) : Math.round(num / 1000000000000);\r\n\t\t\tif (/\\.00$/.test(num)) {\r\n\t\t\t\tnum = num.replace(/\\.00$/, ''); // Remove .00\r\n\t\t\t}\r\n\t\t\tnum += 'T'; // Add the abbreviation \r\n\t\t\t// Change to B and add T\r\n\t\t}\r\n\t\tif (vars.symbol && vars.symbol.visible && num !=0) {\r\n\t\t\tif (vars.symbol.char === \"$\" || vars.symbol.char === \"€\") {\r\n\t\t\t\tnum = vars.symbol.char + num\r\n\t\t\t} else if (vars.symbol.char === \"other\") {\r\n\t\t\t\tif (vars.symbol.otherPosition) {\r\n\t\t\t\t\tnum = vars.symbol.other + ' ' + num;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnum = num + ' ' + vars.symbol.other;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvars.symbol.char;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn num;\r\n}\r\n\r\nexport default me\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utilities.js",
        "import css from './index.css'\r\nimport util from '../../lib/utilities'\r\nimport tooltips from '../tooltip/'\r\n\r\nlet me = ($element, d3, mainvars) => {\r\n\tconst vars = $.extend(true, mainvars, {\r\n\t\tv: '0.0.1',\r\n\t\tname: 'SenseUI-CanvasBarChart',\r\n\t\tbar: {\r\n\t\t\twidth: 50,\r\n\t\t\tpadding: 20\r\n\t\t},\r\n\t\tthis: this\r\n\t})\r\n\t// const wrap = util.wrap\r\n\tconst roundNumber = util.roundNumber\r\n\tconst tooltip = tooltips(d3, vars)\r\n\tconst tooltipEl = tooltip.element()\r\n\t\r\n\t// Add html template\r\n\t// vars.template = `\r\n\t// \t<div qv-extension class=\"ng-scope senseui-canvasbarchart\" id=\"${vars.id}\">\r\n\t// \t\t<div class=\"content\"></div>\r\n\t// \t</div>\r\n\t// `;\r\n\t// if (vars.footer.visible) {\r\n\t// \tvars.template += '<div class=\"footer\"></div>';\r\n\t// };\r\n\t// vars.template += '</div>';\r\n\t// $element.html($(vars.template).width(vars.width).height(vars.height));\r\n\t// if (vars.footer.visible) {\r\n\t// \t$('#' + vars.id + ' .content').height(vars.height-vars.footer.height);\r\n\t// \t$('#' + vars.id + ' .footer').height(vars.footer.height);\r\n\t// } else {\r\n\t// \t$('#' + vars.id + ' .content').height(vars.height);\r\n\t// }\r\n\r\n\t$(\"<style>\").attr(\"id\", \"senseui-canvas-barchart\").html(css).appendTo(\"head\")\r\n\t\r\n\r\n\tvars.data2 = vars.data.map(function (value) {\r\n\t\treturn {\r\n\t\t\t\"dimension\": value[0].qText,\r\n\t\t\t\"measure\": value[1].qText,\r\n\t\t\t\"measureNum\": value[1].qNum,\r\n\t\t\t\"qElemNumber\": value[0].qElemNumber,\r\n\t\t}\r\n\t});\r\n\tconsole.log(vars)\r\n\r\n\tvars.canvasWidth = (vars.data2.length) ? vars.data2.length * (vars.bar.width + (vars.bar.padding * 2) + 3) : 20;\r\n\t// $element.append('<canvas width=\"1500\" height=\"500\"></canvas>');\r\n\r\n\tlet canv = d3.select(`#${vars.id}_inner .content`).append('canvas');\r\n\tcanv.attr(\"width\", vars.canvasWidth);\r\n\tcanv.attr(\"height\", vars.height);\r\n\t// let context = canvas.getContext(\"2d\");\r\n\r\n\tvar canvas = document.querySelector(\"canvas\"),\r\n\t\tcontext = canvas.getContext(\"2d\");\r\n\r\n\tvar margin = { top: 20, right: 20, bottom: 30, left: 40 },\r\n\t\twidth = canvas.width - margin.left - margin.right,\r\n\t\theight = canvas.height - margin.top - margin.bottom;\r\n\r\n\tvar x = d3.scaleBand()\r\n\t\t.rangeRound([0, width])\r\n\t\t.padding(0.1);\r\n\r\n\tvar y = d3.scaleLinear()\r\n\t\t.rangeRound([height, 0]);\r\n\r\n\tcontext.translate(margin.left, margin.top);\r\n\r\n\tx.domain(vars.data2.map(function (d) { return d.dimension; }));\r\n\ty.domain([0, d3.max(vars.data2, function (d) { console.log(d);return d.measureNum; })]);\r\n\r\n\tvar yTickCount = 10,\r\n\t\tyTicks = y.ticks(yTickCount),\r\n\t\tyTickFormat = y.tickFormat(yTickCount, \"%\");\r\n\r\n\tcontext.beginPath();\r\n\tx.domain().forEach(function (d) {\r\n\t\tcontext.moveTo(x(d) + x.bandwidth() / 2, height);\r\n\t\tcontext.lineTo(x(d) + x.bandwidth() / 2, height + 6);\r\n\t});\r\n\tcontext.strokeStyle = \"black\";\r\n\tcontext.stroke();\r\n\r\n\tcontext.textAlign = \"center\";\r\n\tcontext.textBaseline = \"top\";\r\n\tx.domain().forEach(function (d) {\r\n\t\tcontext.fillText(d, x(d) + x.bandwidth() / 2, height + 6);\r\n\t});\r\n\r\n\tcontext.beginPath();\r\n\tyTicks.forEach(function (d) {\r\n\t\tcontext.moveTo(0, y(d) + 0.5);\r\n\t\tcontext.lineTo(-6, y(d) + 0.5);\r\n\t});\r\n\tcontext.strokeStyle = \"black\";\r\n\tcontext.stroke();\r\n\r\n\tcontext.textAlign = \"right\";\r\n\tcontext.textBaseline = \"middle\";\r\n\tyTicks.forEach(function (d) {\r\n\t\tcontext.fillText(yTickFormat(d), -9, y(d));\r\n\t});\r\n\r\n\tcontext.beginPath();\r\n\tcontext.moveTo(-6.5, 0 + 0.5);\r\n\tcontext.lineTo(0.5, 0 + 0.5);\r\n\tcontext.lineTo(0.5, height + 0.5);\r\n\tcontext.lineTo(-6.5, height + 0.5);\r\n\tcontext.strokeStyle = \"black\";\r\n\tcontext.stroke();\r\n\r\n\t// context.save();\r\n\t// context.rotate(-Math.PI / 2);\r\n\t// context.textAlign = \"right\";\r\n\t// context.textBaseline = \"top\";\r\n\t// context.font = \"bold 10px sans-serif\";\r\n\t// context.fillText(\"Frequency\", -10, 10);\r\n\t// context.restore();\r\n\r\n\tcontext.fillStyle = \"steelblue\";\r\n\tvars.data2.forEach(function (d) {\r\n\t\tcontext.fillRect(x(d.dimension), y(d.measureNum), x.bandwidth(), height - y(d.measureNum));\r\n\t});\r\n\r\n\r\n\tconsole.info(`%c ${vars.name}: ${vars.v}: `, 'color: red', `#${vars.id} Loaded!`);\r\n}\r\n\r\nexport default me\n\n\n// WEBPACK FOOTER //\n// ./src/components/barchartcanvas/index.js",
        "import css from './index.css'\r\nimport vizjs from './viz'\r\n\r\nlet me = (d3, mainvars) => {\r\n\t// console.log(mainvars)\r\n\tconst vars = $.extend(true, mainvars, {\r\n\t\tv: '1.0.2',\r\n\t\tname: 'SUI-BiPartite',\r\n\t\tlabelWidth: 300,\r\n\t\tcanvasHeight: 600,\r\n\t});\r\n\tvars.palette = (mainvars.palette) ? mainvars.palette.split(\",\") :  [\"#A6CEE3\",\"#1F78B4\",\"#B2DF8A\",\"#33A02C\",\"#FB9A99\",\"#E31A1C\",\"#FDBF6F\",\"#FF7F00\",\"#CAB2D6\",\"#6A3D9A\",\"#FFFF99\",\"#B15928\"]\r\n\r\n\tconst viz = vizjs(d3, vars)\r\n\r\n\tvar pageheight = Math.floor(10000 / vars.totalColumns);  \r\n\tvar numberOfPages = Math.ceil(pageheight / vars.totalRows);\r\n\t\r\n\tif (numberOfPages>0) {\r\n\t\tvars.data = [];\r\n\t\tvar lastrow = 0;\r\n\t\tvars.this.backendApi.eachDataRow( function ( rownum, row ) {\r\n\t\t\t// console.log(rownum, row)\r\n\t\t\tlastrow = rownum;\r\n\t\t\tvars.data.push(row)\r\n\t\t});\r\n\t\tif(vars.totalRows > lastrow +1){\r\n\t\t\t// console.log(lastrow)\r\n\t\t\t//we havent got all the rows yet, so get some more, 1000 rows\r\n\t\t\tvar requestPage = [{\r\n\t\t\t\tqTop: lastrow + 1,\r\n\t\t\t\tqLeft: 0,\r\n\t\t\t\tqWidth: vars.totalColumns,\r\n\t\t\t\tqHeight: Math.min( 1000, vars.totalRows - lastrow )\r\n\t\t\t}];\r\n\t\t\t// console.log(requestPage)\r\n\t\t\tvars.this.backendApi.getData( requestPage ).then( function ( dataPages ) {\r\n\t\t\t\t// when we get the result trigger paint again\r\n\t\t\t\tvars.this.paint(vars.element, vars.layout);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Get the Unique Labels for coloring\r\n\tlet labels = [];\r\n\tfor (let [ key, value ] of vars.data) {\r\n\t\tlabels.push(value.qText)\r\n\t}\r\n\tfunction onlyUnique(value, index, self) {\r\n\t\treturn self.indexOf(value) === index;\r\n\t}\r\n\tlabels = labels.filter( onlyUnique );\r\n\tlet labelsColors = {};\r\n\tlet colorIndex=0;\r\n\tfor (let value of labels) {\r\n\t\tObject.assign(labelsColors, {[value]: vars.palette[colorIndex]})\r\n\t\tcolorIndex = (colorIndex>=vars.color.length) ? 0 : colorIndex+1;\r\n\t}\r\n\r\n\t// Prepare data for Bipartite \r\n\tvars.data2=[];\r\n\tfor (let value of vars.data) {\r\n\t\tif (value[0].qText !== '-' && value[1].qText !== '-' && value[2].qNum>parseInt(vars.limit) && value[0].qText!==value[1].qText) {\r\n\t\t\tvars.data2.push([value[0].qText, value[1].qText, value[2].qNum]);\r\n\t\t}\r\n\t}\r\n\r\n\t// Sort values\r\n\tvars.data2.sort(function(a, b) {\r\n\t\treturn b[2] - a[2];\r\n\t});\r\n\t// function sortBCA(a,b){ return d3.ascending(bca.indexOf(a),bca.indexOf(b)); }\r\n\tfunction sortBCA(a,b){ \r\n\t\tconsole.log(a,b)\r\n\t\t// return d3.ascending(vars.data2.indexOf(a),bca.indexOf(b)); \r\n\t}\r\n\t// Add CSS\r\n\t\r\n\t// $(\"<style>\").attr(\"id\", \"senseui-barchart\").html(css).appendTo(\"head\")\r\n// \r\n\tvars.css = css;\r\n\tvars.css += `\r\n\t\t#${vars.id}_inner .content {\r\n\t\t\theight: ${vars.height}px;\r\n\t\t}\r\n\t`;\r\n\t// Write Css and html\r\n\tif ($(`#${vars.id}_css`).length) { // insert only once\r\n\t\t$(`#${vars.id}_css`).remove();\r\n\t}\r\n\t$(`<style id=\"${vars.id}_css\">`).html(vars.css).appendTo(\"head\")\r\n\r\n// console.log(vars)\r\n\r\n\t// Create the SVG\r\n\td3.select(`#${vars.id}_inner .content`).empty();\r\n\tvar svg = d3.select(`#${vars.id}_inner .content`).append('svg');\r\n\tsvg.attr(\"width\", vars.width);\r\n\tsvg.attr(\"height\", vars.canvasHeight);\r\n\r\n\tvar g = svg.append(\"g\").attr(\"transform\", \"translate(150,30)\");\r\n\r\n\tvar bp = viz.bP()\r\n\t\t// .data(data)\r\n\t\t.data(vars.data2)\r\n\t\t.min(0)\r\n\t\t.pad(0)\r\n\t\t.height(vars.canvasHeight-50)\r\n\t\t.width(vars.width-vars.labelWidth)\r\n\t\t.barSize(20)\r\n\t\t.value(d=>d[2])\r\n\t\t.fill(d => labelsColors[d.primary]);\r\n\r\n\tg.call(bp)\r\n\r\n\tg.append(\"text\").attr(\"x\", -vars.labelWidth/2).attr(\"y\", -8).style(\"text-anchor\", \"start\").text(vars.dimensionTitle[0].qFallbackTitle);\r\n\tg.append(\"text\").attr(\"x\", vars.width-vars.labelWidth).attr(\"y\", -8).style(\"text-anchor\", \"start\").text(vars.dimensionTitle[1].qFallbackTitle);\r\n\r\n\tg.append(\"line\").attr(\"x1\", -vars.labelWidth/2).attr(\"x2\", 0);\r\n\tg.append(\"line\").attr(\"x1\", vars.width-vars.labelWidth).attr(\"x2\", vars.width-(vars.labelWidth/2));\r\n\r\n\tg.selectAll(\".mainBars\")\r\n\t\t.on(\"mouseover\", mouseover)\r\n\t\t.on(\"mouseout\", mouseout)\r\n\t\t.on(\"click\", click);\r\n\r\n\tg.selectAll(\".mainBars\").append(\"text\").attr(\"class\", \"label\")\r\n\t\t.attr(\"x\", d => (d.part == \"primary\" ? -vars.labelWidth/2-10 : 15))\r\n\t\t.attr(\"y\", d => +6)\r\n\t\t// .attr(\"qElemNum\", d => console.log(d))\r\n\t\t.text((d) => {\r\n\t\t\tif (d.percent>0.01)\treturn d.key;\r\n\t\t\t// return d.key;\r\n\t\t})\r\n\t\t.attr(\"text-anchor\", d => (d.part == \"primary\" ? \"start\" : \"start\"));\r\n\r\n\tg.selectAll(\".mainBars\").append(\"text\").attr(\"class\", \"values\")\r\n\t\t.attr(\"x\", d => (d.part == \"primary\" ? -35 : 130))\r\n\t\t.attr(\"y\", d => +6)\r\n\t\t.text(function (d) { if (d.percent>0.01) return d3.format(\".2s\")(d.value) })\r\n\t\t.attr(\"text-anchor\", d => (d.part == \"primary\" ? \"end\" : \"end\"));\r\n\r\n\tg.selectAll(\".mainBars\").append(\"text\").attr(\"class\", \"perc\")\r\n\t\t.attr(\"x\", d => (d.part == \"primary\" ? -15 : 150))\r\n\t\t.attr(\"y\", d => +6)\r\n\t\t.text(function (d) { if (d.percent>0.01) return d3.format(\"0.0%\")(d.percent) })\r\n\t\t.attr(\"text-anchor\", d => (d.part == \"primary\" ? \"end\" : \"end\"));\r\n\r\n\tfunction mouseover(d) {\r\n\t\tbp.mouseover(d);\r\n\t\tg.selectAll(\".mainBars\").select(\".perc\")\r\n\t\t\t.text(function (d) { if (d.percent>0.01) console.log(d.percent,d3.format(\"0.0%\")(d.percent));return d3.format(\"0.0%\")(d.percent) });\r\n\t}\r\n\tfunction mouseout(d) {\r\n\t\tbp.mouseout(d);\r\n\t\tg.selectAll(\".mainBars\").select(\".perc\")\r\n\t\t\t.text(function (d) { if (d.percent>0.01) return d3.format(\"0.0%\")(d.percent) });\r\n\t}\r\n\t// @TODO later. Need to pass qElemNum in data array for source and destination\r\n\tfunction click(d) {\r\n\t\t// bp.click(function(d){\r\n\t\t\t// console.log(d)\r\n\t\t// });\r\n\t}\r\n\td3.select(self.frameElement).style(\"height\", `${vars.height}`);\r\n\t// if (vars.enableSelections) {\r\n\t// \tvars.this.backendApi.selectValues(0, [qElemNumber], true);\r\n\t// }\r\n\r\n\tconsole.info(`%c ${vars.name}-${vars.v}: `, 'color: red', `#${vars.id} Loaded!`);\r\n\r\n};\r\n\r\nexport default me;\n\n\n// WEBPACK FOOTER //\n// ./src/components/bipartite/index.js",
        "let me = (d3, mainvars) => {\r\n\tconst vars = $.extend(true, {\r\n\t\tv: '1.0.1',\r\n\t}, mainvars);\r\n\r\n\t// console.log(vars)\r\n\r\n\tconsole.info(`%c SenseUI-ChartLib - Combo: ${vars.v}: `, 'color: red', `#${vars.id} Loaded!`);\r\n\r\n};\r\n\r\nexport default me;\n\n\n// WEBPACK FOOTER //\n// ./src/components/combo/index.js",
        "import css from './index.css'\r\nimport util from '../../lib/utilities'\r\nimport tooltips from '../tooltip/'\r\n\r\nlet me = ($element, d3, mainvars) => {\r\n\tconst vars = $.extend(true, mainvars, {\r\n\t\tv: '3.1.5',\r\n\t\tname: 'SUI-HorizontalBar',\r\n\t\tstacked: (mainvars.totalColumns > 2) ? true : false,\r\n\t\tcolor: (mainvars.color) ? mainvars.color : '#000000',\r\n\t\tfontSize: (mainvars.fontSize) ? `${mainvars.fontSize}px` : '11px',\r\n\t\tprecision: (!mainvars.precision) ? false : true,\r\n\t\tbar: {\r\n\t\t\theight: (mainvars.bar.height) ? mainvars.bar.height : 20,\r\n\t\t\tpadding: (mainvars.bar.spacing) ? mainvars.bar.spacing : 3,\r\n\t\t\tborder: mainvars.bar.borderWeight,\r\n\t\t\tcolor: (mainvars.bar.fillColor) ? mainvars.bar.fillColor : '#4477AA',\r\n\t\t\tcolorHover: (mainvars.bar.fillHoverColor) ? mainvars.bar.fillHoverColor : '#77b62a',\r\n\t\t\ttextColor: (mainvars.bar.textColor) ? mainvars.bar.textColor.split(',') : ['#000000'],\r\n\t\t\ttextHoverColor: (mainvars.bar.textHoverColor) ? mainvars.bar.textHoverColor.split(',') : ['#000000'],\r\n\t\t\tborderColor: (mainvars.bar.borderColor) ? mainvars.bar.borderColor : '#404040',\r\n\t\t\tborderColorHover: (mainvars.bar.borderColorHover) ? mainvars.bar.borderColorHover : '#77b62a',\r\n\t\t\tlollipop: (mainvars.bar && mainvars.bar.lollipop) ? true : false,\r\n\t\t\tgrouped: (mainvars.bar.grouped && mainvars.bar.grouped) ? true : false,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tvisible: mainvars.yaxis.visible,\r\n\t\t\twidth: (mainvars.yaxis.width) ? mainvars.yaxis.width : 150,\r\n\t\t\tcharacters: (mainvars.yaxis.characters) ? mainvars.yaxis.characters : 50,\r\n\t\t\trightPadding: (mainvars.yaxis.rightPadding) ? mainvars.yaxis.rightPadding:50,\r\n\t\t\tpadding: 15,\r\n\t\t\tminWidth: 100\r\n\t\t},\r\n\t\tfooter: {\r\n\t\t\tvisible: mainvars.xaxis.visible,\r\n\t\t\theight: 20\r\n\t\t},\r\n\t\ttooltip: {\r\n\t\t\tvisible: (mainvars.tooltip && mainvars.tooltip.visible) ? true : false,\r\n\t\t\tdimension: (mainvars.tooltip && mainvars.tooltip.dimension) ? true : false,\r\n\t\t\tmashup: (mainvars.tooltip && mainvars.tooltip.mashup) ? true : false,\r\n\t\t\tdivid: (mainvars.tooltip && mainvars.tooltip.divid) ? mainvars.tooltip.divid : 'maincontent',\r\n\t\t\tscrollLeft: 0,\r\n\t\t\tscrollTop: 0,\r\n\t\t},\r\n\t\tsymbol: {\r\n\t\t\tvisible: (mainvars.symbol && mainvars.symbol.visible)?true:false,\r\n\t\t\tchar: (mainvars.symbol && mainvars.symbol.char)? mainvars.symbol.char : null,\r\n\t\t\tother: (mainvars.symbol && mainvars.symbol.other)? mainvars.symbol.other : null,\r\n\t\t\totherPosition: (mainvars.symbol && mainvars.symbol.otherPosition)? mainvars.symbol.otherPosition : false,\r\n\t\t},\r\n\t\tcanvasHeight: null,\r\n\t\tcss: {\r\n\t\t\tbreakpoint: 500,\r\n\t\t},\r\n\t\tlegend: {\r\n\t\t\theight: 50,\r\n\t\t\tvisible: (mainvars.legend && mainvars.legend.visible) ? true : false,\r\n\t\t},\r\n\t\ttemplate: '',\r\n\t\tverticalGridSpace: 60,\r\n\t\tverticalGridLines: null,\r\n\t\tenableSelections: (mainvars.enableSelections) ? true : false,\r\n\t\tpalette: (mainvars.bar.fillColor) ? mainvars.bar.fillColor.split(',') : ['#332288', '#88CCEE', '#117733', '#DDCC77', '#CC6677', '#3399CC', '#CC6666', '#99CC66', '#275378', '#B35A01', '#B974FD', '#993300', '#99CCCC', '#669933', '#898989', '#EDA1A1', '#C6E2A9', '#D4B881', '#137D77', '#D7C2EC', '#FF5500', '#15DFDF', '#93A77E', '#CB5090', '#BFBFBF'],\r\n\t\tlimit: (mainvars.limit) ? parseInt(mainvars.limit) : 0,\r\n\t\tnoData: (mainvars.noData) ? mainvars.noData : \"No Data Available\",\r\n\t\tthis: this\r\n\t});\r\n\t//Check for coloring by expression and redraw data \r\n\tif (vars.bar.fillColorByExpr && vars.layout.qHyperCube.qDimensionInfo[0].qAttrExprInfo.length==0) {\r\n\t\tvars.this.backendApi.applyPatches([{\r\n\t\t\tqOp: \"replace\",\r\n\t\t\tqPath: \"/qHyperCubeDef/qDimensions/0/qAttributeExpressions\",\t\t\t\r\n\t\t\tqValue: JSON.stringify([{qExpression: `=${vars.bar.fillColorByExpr}`}])\r\n\t\t}], false);\r\n\t}\r\n\t// Wrap the labels for the chart\r\n\tconst wrap = util.wrap\r\n\tconst roundNumber = util.roundNumber\r\n\tconst tooltip = tooltips(d3, vars)\r\n\tconst tooltipEl = tooltip.element()\r\n\t\r\n\tlet measurePosition = (vars.colorByExpr) ? 2 : 1;\r\n\tvars.data = vars.data.map(function (value, index) {\r\n\t\treturn {\r\n\t\t\t\"dimension\": value[0].qText,\r\n\t\t\t\"measure\": (vars.measure1 && vars.valueFormat) ? roundNumber(vars, value[measurePosition].qNum) : value[measurePosition].qText, // Do we show the Qlik format or the custom one?\r\n\t\t\t\"measureNum\": value[measurePosition].qNum,\r\n\t\t\t\"qElemNumber\": value[0].qElemNumber,\r\n\t\t\t\"color\": (value[0].qAttrExps && value[0].qAttrExps.qValues[0].qText) ? value[0].qAttrExps.qValues[0].qText : null\r\n\t\t}\r\n\t});\r\n// console.log(vars)\r\n\t// Limit results\r\n\tif (vars.limit) {\r\n\t\tvars.data = vars.data.filter(function (element, index) {\r\n\t\t\treturn index < vars.limit;\r\n\t\t})\r\n\t}\r\n\r\n\tvars.verticalGridLines = Math.round((vars.width - vars.label.width) / vars.verticalGridSpace);\r\n\r\n\t// Create a lollipop chart\r\n\tif (vars.bar.lollipop) {\r\n\t\tvars.bar.height = 2;\r\n\t\tvars.bar.padding = 10;\r\n\t}\r\n\r\n\t// Toggle Stacked bar based on the grouped chart settings\r\n\tif (vars.bar.grouped) {\r\n\t\tvars.stacked = false;\r\n\t}\r\n\r\n\t// Add html template\r\n\tvars.template = `\r\n\t\t<div qv-extension class=\"ng-scope senseui-barchart\" id=\"${vars.id}\">\r\n\t\t\t<div class=\"content\"></div>\r\n\t`;\r\n\tif (vars.footer.visible) {\r\n\t\tvars.template += '<div class=\"footer\"></div>';\r\n\t}\r\n\tvars.template += '</div>';\r\n\r\n\t// Add CSS\r\n\tvars.css.content = `\r\n\t\t#${vars.id} {\r\n\t\t\tcolor: ${vars.color}\r\n\t\t}\r\n\t`;\r\n\r\n\t$(\"<style>\").attr(\"id\", \"senseui-barchart\").html(css).appendTo(\"head\")\r\n\t$(\"<style>\").html(vars.css.content).appendTo(\"head\")\r\n\r\n\t// if (document.getElementById(vars.id)) {\r\n\t// \t$element.empty();\r\n\t// }\r\n\r\n\tif (vars.footer.visible) {\r\n\t\t$(`#${vars.id}_inner`).append('<div class=\"footer\"></div>')\r\n\t\t$(`#${vars.id}_inner .content`).height(vars.height - vars.footer.height);\r\n\t\t$(`#${vars.id}_inner .footer`).height(vars.footer.height);\r\n\t} else {\r\n\t\t$(`#${vars.id}_inner .content`).height(vars.height);\r\n\t}\r\n\r\n\tvar dMax2 = d3.max(vars.data, function (d) { return d.measureNum; });\r\n\tvars.canvasHeight = (vars.data.length) ? vars.data.length * (vars.bar.height + (vars.bar.padding * 2) + 3) : 20;\r\n\r\n\t// var t = d3.transition()\r\n\t// \t.duration(1000)\r\n\t// \t.ease(d3.easeLinear)\r\n\t// \t.on(\"start\", function(d){ console.log(\"transiton start\") })\r\n\t// \t.on(\"end\", function(d){ console.log(\"transiton end\") })\r\n\t\r\n\tvar x = d3.scaleLinear()\r\n\t\t.domain([0, dMax2])\r\n\t\t.range([0, (vars.label.visible) ? vars.width - vars.label.width - ((!vars.bar.hideValues)?vars.label.rightPadding:0) : vars.width]);\r\n\r\n\tvar y = d3.scaleLinear()\r\n\t\t.domain([0, (!vars.stacked) ? vars.data.length / (vars.totalColumns - 1) : vars.data.length])\r\n\t\t.range([10, vars.canvasHeight]);\r\n\r\n\tvar svg = d3.select(`#${vars.id}_inner .content`).append('svg');\r\n\tsvg.attr(\"width\", vars.width);\r\n\tsvg.attr(\"height\", (vars.bar.grouped && !vars.stacked && vars.data.length) ? vars.canvasHeight * (vars.totalColumns - 1) : vars.canvasHeight);\r\n\r\n\tif (vars.footer.visible) {\r\n\t\tvar svgFooter = d3.select(`#${vars.id}_inner .footer`).append('svg');\r\n\t\tsvgFooter.attr(\"width\", vars.width);\r\n\t\tsvgFooter.attr(\"height\", vars.footer.height);\r\n\t}\r\n\r\n\tvar xAxis = d3.axisBottom(x);\r\n\r\n\tvar yAxis = d3.axisLeft(y)\r\n\t\t.tickSize(0)\r\n\t\t.tickFormat(function (d, i) {\r\n\t\t\treturn vars.data[d].dimension;\r\n\t\t})\r\n\t\t.tickValues(d3.range(vars.data.length));\r\n\r\n\t// Y Axis labels\r\n\tif (vars.label.visible && vars.data.length) {\r\n\t\tlet labelPosition = `${vars.label.width}, -10`\r\n\t\tlet textAnchor = 'start'\r\n\t\tlet xPosition = -vars.label.width\r\n\t\tif (vars.yaxis.align && vars.yaxis.align==='right') {\r\n\t\t\tlabelPosition = `-10, -10`\r\n\t\t\ttextAnchor = 'end'\r\n\t\t\txPosition = vars.label.width\r\n\t\t}\r\n\t\tvar y_xis = svg.append('g')\r\n\t\t\t.attr(\"transform\", `translate(${labelPosition})`)\r\n\t\t\t.attr('id', 'yaxis')\r\n\t\t\t.attr('width', vars.label.width - 10)\r\n\t\ty_xis.call(yAxis)\r\n\t\t\t.selectAll(\"text\")\r\n\t\t\t.attr(\"x\", xPosition)\r\n\t\t\t.attr(\"y\", (vars.bar.grouped) ? (vars.bar.height * vars.qcx) / 2 : vars.label.padding) // SOLUTION 1 \r\n\t\t\t// .call(wrap, vars.label.width, vars, d3)\r\n\t\t\t.attr('style', `fill:${vars.color}; font-size:${vars.fontSize}; cursor: pointer;`)\r\n\t\t\t.on(\"mousemove\", function (d, i) {\r\n\t\t\t\tif (vars.tooltip.visible) {\r\n\t\t\t\t\tvar tooltipData = {\r\n\t\t\t\t\t\tdimension: {\r\n\t\t\t\t\t\t\tvisible: vars.tooltip.dimension,\r\n\t\t\t\t\t\t\tlabel: vars.data[i].dimension,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmeasure: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcolor: (vars.data[i].color)?vars.data[i].color:vars.bar.color,\r\n\t\t\t\t\t\t\t\tlabel: vars.measure1.label,\r\n\t\t\t\t\t\t\t\tvalue: vars.data[i].measure\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (vars.tooltip.mashup && vars.tooltip.divid && $(`#${vars.tooltip.divid}`).length > 0) {\r\n\t\t\t\t\t\tvars.tooltip.scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft\r\n\t\t\t\t\t\tvars.tooltip.scrollTop = -$(`#${vars.tooltip.divid}`).offset().top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttooltipEl\r\n\t\t\t\t\t\t.style(\"left\", vars.tooltip.scrollLeft + d3.event.pageX - ($('.sui-tip').width() / 2) - 7 + \"px\")\r\n\t\t\t\t\t\t.style(\"top\", vars.tooltip.scrollTop + d3.event.pageY - 70 + \"px\")\r\n\t\t\t\t\t\t.style(\"display\", \"inline-block\")\r\n\t\t\t\t\t\t.html(tooltip.html(tooltipData));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on(\"mouseout\", function (d, i) {\r\n\t\t\t\ttooltipEl.style(\"display\", \"none\");\r\n\t\t\t})\r\n\t\t\t.on('click', function (d) {\r\n\t\t\t\ttooltipEl.style(\"display\", \"none\");\r\n\t\t\t\tselectElement(d, vars.data[d].qElemNumber, vars)\r\n\t\t\t})\r\n\t\t\t.style(\"text-anchor\", textAnchor);\r\n\t}\r\n\t\r\n\t// X Axis labels\r\n\tif (vars.footer.visible) {\r\n\t\tsvgFooter.append('g')\r\n\t\t\t.attr(\"transform\", `translate(${((vars.label.visible) ? vars.label.width : 0)},0)`)\r\n\t\t\t.attr('id', 'xaxis')\r\n\t\t\t.attr('style', `fill:${vars.color}`)\r\n\t\t\t.call(xAxis\r\n\t\t\t\t.tickSize(1)\r\n\t\t\t\t.ticks(vars.verticalGridLines)\r\n\t\t\t\t.tickFormat(function (d) {\r\n\t\t\t\t\treturn roundNumber(vars, d)\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t// Make sure the selected items are above the footer\r\n\t\t$(`#${vars.id}_inner .sui-selection-total`).css(\"bottom\",vars.footer.height)\r\n\t}\r\n\r\n\t// Position Indexes\r\n\tvar xpos = 0;\r\n\tvar ypos = 0;\r\n\tvar yposText = 0;\r\n\r\n\tif (!vars.data.length) {\r\n\t\tsvg.append('g').append('text')\r\n\t\t\t.attr(\"x\", 0)\r\n\t\t\t.attr(\"y\", 20)\r\n\t\t\t.attr(\"text-anchor\", \"start\")\r\n\t\t\t.style(\"font-size\", \"12px\")\r\n\t\t\t.text(vars.noData)\r\n\t}\r\n\tvars.app.getList(\"SelectionObject\", (reply) => {\r\n\t\tlet selectedFields = reply.qSelectionObject.qSelections\r\n\t\tfor (let i=0; i<selectedFields.length; i++) {\r\n\t\t\tif (vars.dimensionTitle[0].qFallbackTitle == selectedFields[i].qField) {\r\n\t\t\t\t$(`#${vars.id}_inner .sui-selection-total`).show()\r\n\t\t\t\t$(`#${vars.id}_inner .sui-selection-total`).text(`${selectedFields[i].qSelectedCount} of ${selectedFields[i].qTotal}`)\r\n\t\t\t} else {\r\n\t\t\t\t$(`#${vars.id}_inner .sui-selection-total`).hide()\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t//Create the Bars\r\n\tvar bars2 = svg.selectAll(\".content\")\r\n\t\t.data(vars.data)\r\n\t\t.enter().append(\"g\")\r\n\t\t.attr(\"transform\", `translate(${((vars.label.visible) ? vars.label.width : 0)},-22)`)\r\n\t\t.attr('class', 'bar');\r\n\t\t\r\n\tbars2.append(\"rect\")\r\n\t\t.attr('style', function (d, i) {\r\n\t\t\treturn `\r\n\t\t\t\tfill: ${(d.color)?d.color:vars.bar.color};\r\n\t\t\t\tstroke-width: ${vars.bar.border};\r\n\t\t\t\tstroke: ${vars.bar.borderColor};\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t`;\r\n\t\t})\r\n\t\t.attr(\"ypos\",function (d, i) {\r\n\t\t\treturn i\r\n\t\t})\r\n\t\t.attr('width', function (d, i) {\r\n\t\t\tlet w = 0;\r\n\t\t\tw = x(d.measureNum)\r\n\t\t\treturn (w > 0) ? w : 0;\r\n\t\t})\r\n\t\t.attr(\"x\", function (d, i) {\r\n\t\t\treturn 1;\r\n\t\t})\r\n\t\t.attr('y', function (d, i) {\r\n\t\t\treturn y(i) + 19;\r\n\t\t})\r\n\t\t.attr(\"height\", vars.bar.height)\r\n\t\t.on(\"mousemove\", function (d, i) {\r\n\t\t\tvar tooltipData = {\r\n\t\t\t\tdimension: {\r\n\t\t\t\t\tvisible: vars.tooltip.dimension,\r\n\t\t\t\t\tlabel: d.dimension,\r\n\t\t\t\t},\r\n\t\t\t\tmeasure: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolor: (d.color)?d.color:vars.bar.color,\r\n\t\t\t\t\t\tlabel: vars.measure1.label,\r\n\t\t\t\t\t\tvalue: d.measure\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t\tif($('.senseui-chartlib .sui-selection-bar:visible').length == 0) {\r\n\t\t\t\td3.select(this).style(\"fill\", vars.bar.colorHover);\r\n\t\t\t\td3.select(this).style(\"stroke\", vars.bar.borderColorHover);\r\n\t\t\t\td3.select(this).style(\"stroke-width\", vars.bar.border);\r\n\t\t\t}\r\n\t\t\tif (vars.tooltip.visible) {\r\n\t\t\t\tif (vars.tooltip.mashup && vars.tooltip.divid && $(`#${vars.tooltip.divid}`).length > 0) {\r\n\t\t\t\t\tvars.tooltip.scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft\r\n\t\t\t\t\tvars.tooltip.scrollTop = -$(`#${vars.tooltip.divid}`).offset().top;\r\n\t\t\t\t} \r\n\t\t\t\ttooltipEl\r\n\t\t\t\t\t.style(\"left\", vars.tooltip.scrollLeft + d3.event.pageX - ($('.sui-tip').width() / 2) - 7 + \"px\")\r\n\t\t\t\t\t.style(\"top\", vars.tooltip.scrollTop + d3.event.pageY - 70 + \"px\")\r\n\t\t\t\t\t.style(\"display\", \"inline-block\")\r\n\t\t\t\t\t.html(tooltip.html(tooltipData));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on(\"mouseout\", function (d, i) {\r\n\t\t\ttooltipEl.style(\"display\", \"none\");\r\n\t\t\tif ($(`#${vars.id}_inner .sui-selection-bar:visible`).length == 0) {\r\n\t\t\t\td3.select(this).style(\"fill\", (d.color)?d.color:vars.bar.color);\r\n\t\t\t\td3.select(this).style(\"stroke\", vars.bar.borderColor);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('click', function (d) {\r\n\t\t\ttooltipEl.style(\"display\", \"none\");\r\n\t\t\tselectElement(d.ypos, d.qElemNumber, vars)\r\n\t\t});\r\n\t\t\r\n\t// Add the Text labels onto the Bars\r\n\tif (!vars.bar.hideValues) {\t\t\r\n\t\tbars2.append(\"text\")\r\n\t\t.text(function (d, i) {\r\n\t\t\treturn d.measure;\r\n\t\t})\r\n\t\t.attr('x', function (d, i) {\r\n\t\t\tvar xwidth = x(d.measureNum);\r\n\t\t\tvar textWidth = this.getBBox().width;\r\n\t\t\treturn xwidth + 5;\r\n\t\t})\r\n\t\t.attr('y', function (d, i) {\r\n\t\t\treturn y(i) + (vars.bar.height / 2) + 22;\r\n\t\t})\r\n\t\t.attr('style', function (d, i) {\r\n\t\t\tvar xwidth = x(d.qNum);\r\n\t\t\tvar textWidth = this.getBBox().width;\r\n\t\t\tvar style = `font-size:${vars.fontSize};`;\r\n\t\t\tif (textWidth + (vars.bar.padding * 2) > xwidth) {\r\n\t\t\t\tstyle += ` fill: ${vars.color};`;\r\n\t\t\t} else {\r\n\t\t\t\tstyle += ` fill: ${vars.bar.textHoverColor[0]};`;\r\n\t\t\t}\r\n\t\t\treturn style;\r\n\t\t})\r\n\t\t.on(\"mousemove\", function(d,i){\r\n\t\t\tvar tooltipData = {\r\n\t\t\t\tdimension: {\r\n\t\t\t\t\tvisible: vars.tooltip.dimension,\r\n\t\t\t\t\tlabel: d.dimension,\r\n\t\t\t\t},\r\n\t\t\t\tmeasure: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolor: vars.palette[0],\r\n\t\t\t\t\t\tlabel: vars.measure1.label,\r\n\t\t\t\t\t\tvalue: d.measure\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t\td3.select(this).style(\"cursor\", \"pointer\");\r\n\t\t\tif (vars.tooltip.visible) {\t\t\t\t\t\r\n\t\t\t\tif (vars.tooltip.mashup && vars.tooltip.divid && $('#'+vars.tooltip.divid).length>0) {\r\n\t\t\t\t\tvars.tooltip.scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft\r\n\t\t\t\t\tvars.tooltip.scrollTop = -$('#'+vars.tooltip.divid).offset().top;\r\n\t\t\t\t}\r\n\t\t\t\ttooltipEl\r\n\t\t\t\t.style(\"left\", vars.tooltip.scrollLeft + d3.event.pageX - ($('.sui-tip').width() / 2) - 7 + \"px\")\r\n\t\t\t\t.style(\"top\", vars.tooltip.scrollTop + d3.event.pageY - 70 + \"px\")\r\n\t\t\t\t.style(\"display\", \"inline-block\")\r\n\t\t\t\t.html(tooltip.html(tooltipData));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on(\"mouseout\", function(d,i){ \r\n\t\t\ttooltipEl.style(\"display\", \"none\");\r\n\t\t})\r\n\t\t.on('click', function(d,i) {\r\n\t\t\ttooltipEl.style(\"display\", \"none\");\t\r\n\t\t\tselectElement(d.ypos, d.qElemNumber, vars)\r\n\t\t});\r\n\t}\r\n\r\n\t// Lollipop\r\n\tif (vars.bar.lollipop) {\r\n\t\tbars2.selectAll(`#${vars.id} bar`)\r\n\t\t\t.append('path')\r\n\t\t\t.data(function (d) {\r\n\t\t\t\treturn d;\r\n\t\t\t})\r\n\t\t\t.enter().append(\"path\")\r\n\t\t\t.attr('style', function (d, i) {\r\n\t\t\t\treturn `\r\n\t\t\t\t\tfill: ${vars.palette[i - 1]};\r\n\t\t\t\t\tstroke-width: ${vars.bar.border};\r\n\t\t\t\t\tstroke: ${vars.bar.borderColor};\r\n\t\t\t\t`;\r\n\t\t\t})\r\n\t\t\t.attr(\"transform\", function (d, i) {\r\n\t\t\t\tif (i > 0 && !vars.stacked) {\r\n\t\t\t\t\treturn `translate(${(x(d.qNum) - 5)},${(y(d.ypos) + 20)})`;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.attr(\"d\", d3.svg.symbol().size(128));\r\n\t}\r\n\t// Add legend\r\n\tif ((vars.stacked || vars.bar.grouped) && vars.legend.visible) {\r\n\t\tvar columnWidth = '148px';\r\n\t\tif (vars.width > 500) {\r\n\t\t\tcolumnWidth = (vars.width - 10) / (vars.measureTitle.length) + 'px';\r\n\t\t}\r\n\t\tvar legend = '\\\r\n\t\t\t<div class=\"legend\">';\r\n\t\tfor (let i = 0; i < vars.measureTitle.length; i++) {\r\n\t\t\tlegend += `<div class=\"column\" style=\"font-size: ${vars.fontSize}; width:${columnWidth}\"><div class=\"box\" style=\"background-color:${ vars.palette[i]}\"></div>${vars.measureTitle[i].qFallbackTitle}</div>`;\r\n\t\t}\r\n\t\tlegend += '</div>';\r\n\t\t$(`#${vars.id}_inner .content`).append(legend);\r\n\t}\r\n\r\n\t// Add the legend line\r\n\tif (vars.data.length) {\r\n\t\tsvg.append(\"line\")\r\n\t\t\t.attr('x1', vars.label.width)\r\n\t\t\t.attr('x2', vars.label.width)\r\n\t\t\t.attr(\"y1\", 0)\r\n\t\t\t.attr(\"y2\", vars.canvasHeight)\r\n\t\t\t.attr(\"stroke-width\", 1)\r\n\t\t\t.attr(\"shape-rendering\", \"crispEdges\")\r\n\t\t\t.attr(\"stroke\", '#CCCCCC');\r\n\t}\r\n\r\n\tconsole.info(`%c ${vars.name}-${vars.v}: `, 'color: red', `#${vars.id} Loaded!`);\r\n\r\n};\r\n\r\nconst selectElement = (ypos, qElemNumber, vars) => {\r\n\tif (vars.enableSelections && vars.multipleSelections) {\r\n\t\tif (vars.selected.length==0) {\r\n\t\t\t$(`#${vars.id}_inner rect`).css(\"opacity\", \"0.4\")\r\n\t\t}\r\n\t\tif (vars.selected.includes(qElemNumber)) {\r\n\t\t\tvars.selected.splice(vars.selected.indexOf(qElemNumber),1)\r\n\t// \t\t// $(`#${vars.id}_inner .bars rect[ypos=\"${ypos}\"]`).removeClass(\"sui-selected-bar\")\r\n\t\t\t$(`#${vars.id}_inner .bar rect[ypos=\"${ypos}\"]`).css(\"fill\", vars.bar.color)\r\n\t\t\t$(`#${vars.id}_inner .bar rect[ypos=\"${ypos}\"]`).css(\"opacity\", \"0.4\")\r\n\t\t} else {\r\n\t\t\tvars.selected.push(qElemNumber)\r\n\t// \t\t// $(`#${vars.id}_inner .bars rect[ypos=\"${ypos}\"]`).addClass(\"sui-selected-bar\")\r\n\t\t\t$(`#${vars.id}_inner .bar rect[ypos=\"${ypos}\"]`).css(\"fill\", vars.bar.colorHover)\r\n\t\t\t$(`#${vars.id}_inner .bar rect[ypos=\"${ypos}\"]`).css(\"opacity\", \"1\")\r\n\t\t}\r\n\t\tif ($(`#${vars.id}_inner .sui-selection-bar:visible`).length == 0) {\r\n\t\t\t$(`#${vars.id}_inner .sui-selection-bar`).show()\r\n\t\t\t$(`#${vars.id}_inner .sui-selection-total`).show()\r\n\t\t}\r\n\t\t$(`#${vars.id}_inner .sui-selection-total`).text(`${vars.selected.length} of ${vars.data.length}`)\r\n\t} else if (vars.enableSelections && !vars.multipleSelections) {\r\n\t\tvars.this.backendApi.selectValues(0, [qElemNumber], true);\r\n\t}\r\n}\r\n\r\nexport default me;\n\n\n// WEBPACK FOOTER //\n// ./src/components/horizontal-bar/index.js",
        "import css from './index.css'\r\n\r\nlet me = ($element, d3, mainvars, layout) => {\r\n\tconst vars = $.extend(true, {\r\n\t\tv: '1.0.1',\r\n\t\tcss: css,\r\n\t\tthis: this\r\n\t}, mainvars);\r\n\r\n\tif (!vars.listbox.type) {\r\n\t\tvars.css += `\r\n\t\t\t#${vars.id}_inner li {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tpadding-bottom: 5px;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\t\t`\r\n\t} else {\r\n\t\tvars.css += `\r\n\t\t\t#${vars.id}_inner li {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\t\t\t#${vars.id}_inner .separator {\r\n\t\t\t\tpadding-left: 10px;\r\n\t\t\t\tpadding-right: 10px;\r\n\t\t\t}\r\n\t\t`\r\n\t}\r\n\t\r\n\tif ($(`#${vars.id}-sui-listbox`).length) {\r\n\t\t// $(\"<style>\").attr(\"id\", \"sui-listbox\").remove();\r\n\t\t$(`#${vars.id}-sui-listbox`).remove();\r\n\t}\r\n\t$(\"<style>\").attr(\"id\", `${vars.id}-sui-listbox`).html(vars.css).appendTo(\"head\")\r\n\r\n\t// Appying patches to the definition model causes infinite loop \r\n\t// console.log(layout)\r\n\t// console.log(layout.patchesApplied)\r\n\tif(!layout.patchesApplied) {\r\n\t\t// vars.this.backendApi.applyPatches([{\r\n\t\t// \tqOp: \"replace\",\r\n\t\t// \tqPath: \"/qHyperCubeDef/qInitialDataFetch\",\r\n\t\t// \tqValue: JSON.stringify([{qWidth: 1,qHeight: 50}])\r\n\t\t// }], false);\r\n\t\t\r\n\t\t// vars.this.backendApi.applyPatches([{\r\n\t\t// \tqOp: \"replace\",\r\n\t\t// \tqPath: \"/qHyperCubeDef/qMeasures\",\r\n\t\t// \tqValue: JSON.stringify([{min: 0,max: 4}])\r\n\t\t// }], true);\r\n\r\n\t\t// console.log('patches applied')\r\n\t\tlayout.patchesApplied = 1;\r\n\t}\r\n\r\n\tlet html = `<ul>`\r\n\tfor (let i=0; i<vars.data.length; i++) {\r\n\t\tif (!vars.listbox.type) {\r\n\t\t\thtml += `<li data-qElemNumber=\"${vars.data[i][0].qElemNumber}\">${vars.data[i][0].qText}</li>`\r\n\t\t} else {\r\n\t\t\tlet separator = (i==vars.data.length-1) ? '' : `<span class=\"separator\">${vars.listbox.separator}<span>`;\r\n\t\t\thtml += `<li data-qElemNumber=\"${vars.data[i][0].qElemNumber}\">${vars.data[i][0].qText + separator}</li>`\r\n\t\t}\r\n\t}\t\t\r\n\thtml += `</ul>`\r\n\t$(`#${vars.id}_inner .content`).append(html)\r\n\t$(`#${vars.id}_inner .content`).height(vars.height)\r\n// console.log(vars)\r\n\t$(`#${vars.id}_inner li`).click(function(e){\r\n\t\tlet data = $(this).data()\r\n\t\tlet qElemNumber = data.qelemnumber;\r\n\t\tconsole.log(data,qElemNumber)\r\n\t\tif(!vars.listbox.disableSelections) {\r\n\t\t\tvars.this.backendApi.selectValues(0, [qElemNumber], true);\r\n\t\t}\r\n\t})\r\n\t// console.log(d3, mainvars, layout)\r\n\r\n\tconsole.info(`%c SenseUI-ChartLib - Listbox: ${vars.v}: `, 'color: red', `#${vars.id} Loaded!`);\r\n\r\n};\r\n\r\nexport default me;\n\n\n// WEBPACK FOOTER //\n// ./src/components/listbox/index.js",
        "import css from './index.css'\r\nimport util from '../../lib/utilities'\r\nimport tooltips from '../tooltip/'\r\n\r\nlet me = ($element, d3, mainvars) => {\r\n\tconst vars = $.extend(true, mainvars, {\r\n\t\tv: '1.0.1',\r\n\t\tname: 'SUI-VerticalBar',\r\n\t\tmargin: { top: 20, right: 20, bottom: 50, left: 60 },\r\n\t\ttooltip: {\r\n\t\t\tvisible: (mainvars.tooltip && mainvars.tooltip.visible) ? true : false,\r\n\t\t\tmashup: (mainvars.tooltip && mainvars.tooltip.mashup) ? true : false,\r\n\t\t\tshowAll: (mainvars.tooltip && mainvars.tooltip.showAll) ? true : false,\r\n\t\t\tdivid: (mainvars.tooltip && mainvars.tooltip.divid) ? mainvars.tooltip.divid : 'maincontent',\r\n\t\t\tscrollLeft: 0,\r\n\t\t\tscrollTop: 0,\r\n\t\t},\r\n\t\tbar: {\t\r\n\t\t\theight: (mainvars.bar.height) ? mainvars.bar.height : 20,\r\n\t\t\tpadding: (mainvars.bar.spacing) ? mainvars.bar.spacing : 3,\r\n\t\t\tborder: 0, // (mainvars.bar.borderWeight) ? mainvars.bar.borderWeight : 0,\r\n\t\t\tcolor: (mainvars.bar.fillColor) ? mainvars.bar.fillColor : '#4477AA',\r\n\t\t\tcolorHover: (mainvars.bar.fillHoverColor) ? mainvars.bar.fillHoverColor : '#77b62a',\r\n\t\t\ttextColor: (mainvars.bar.textColor) ? mainvars.bar.textColor.split(',') : ['#000000'],\r\n\t\t\ttextHoverColor: (mainvars.bar.textHoverColor) ? mainvars.bar.textHoverColor.split(',') : ['#000000'],\r\n\t\t\tborderColor: (mainvars.bar.borderColor) ? mainvars.bar.borderColor : '#404040',\r\n\t\t\tborderColorHover: (mainvars.bar.borderColorHover) ? mainvars.bar.borderColorHover : '#77b62a'\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tvisible: mainvars.yaxis.visible,\r\n\t\t\twidth: (mainvars.yaxis.width) ? mainvars.yaxis.width : 150,\r\n\t\t\tcharacters: (mainvars.yaxis.characters) ? mainvars.yaxis.characters : 50,\r\n\t\t\trightPadding: (mainvars.yaxis.rightPadding) ? mainvars.yaxis.rightPadding : 50,\r\n\t\t\tpadding: 15,\r\n\t\t\tminWidth: 100\r\n\t\t},\r\n\t\tfooter: {\r\n\t\t\tvisible: 1, // (mainvars.xaxis.visible) ? 1 : 0,\r\n\t\t\theight: 40\r\n\t\t},\r\n\t\tenableSelections: 1, // (mainvars.enableSelections) ? true : false,\r\n\t\tmultipleSelections: 1, // (mainvars.multipleSelections) ? true : false,\t\t\r\n\t\tdata: [],\r\n\t\tthis: this\r\n\t})\r\n\t\r\n\tconst wrap = util.wrap\r\n\tconst roundNumber = util.roundNumber\r\n\tconst tooltip = tooltips(d3, vars)\r\n\tconst tooltipEl = tooltip.element()\r\n\r\n\t// Combine the css and inject\r\n\tvars.css = css;\r\n\tvars.css += `\r\n\t\t#${vars.id}_inner .outer,\r\n\t\t#${vars.id}_inner .content {\r\n\t\t\toverflow-x: auto;\r\n\t\t\toverflow-y: hidden;\r\n\t\t}\t\t\r\n\t\t#${vars.id}_inner .content .bar {\r\n\t\t\tfill: ${vars.bar.color};\r\n\t\t}\t\t\r\n\t\t#${vars.id}_inner .content .bar:hover {\r\n\t\t\tfill: ${vars.bar.colorHover};\r\n\t\t}\r\n\t\t#${vars.id}_inner .content .legend {\r\n\t\t\tfont-size: ${vars.font.size}px;\r\n\t\t}\r\n\t`;\r\n\t// Write Css and html\r\n\tif ($(`#${vars.id}_css`).length) { // insert only once\r\n\t\t$(`#${vars.id}_css`).remove();\r\n\t}\r\n\t$(`<style id=\"${vars.id}_css\">`).html(vars.css).appendTo(\"head\")\r\n\r\n\t// if (vars.footer.visible) {\r\n\t// \t$(`#${vars.id}_inner`).append('<div class=\"footer\"></div>')\r\n\t// \t$(`#${vars.id}_inner .content`).height(vars.height-1);\r\n\t// \t// $(`#${vars.id}_inner .content`).height(vars.height - vars.footer.height);\r\n\t// \t$(`#${vars.id}_inner .footer`).height(vars.footer.height);\r\n\t// } else {\r\n\t\t$(`#${vars.id}_inner .content`).height(vars.height-1); // It seems to be a bug with Sense and horizontal scrollbar does nto appear unless I change the height!!!\r\n\t\t$(`#${vars.id}_inner .content`).width(vars.width);\r\n\t// }\r\n\r\n\t// Prepare Data for easy access\r\n\tvars.data = vars.data.map(function (value) {\r\n\t\treturn {\r\n\t\t\t\"dimension\": value[0].qText,\r\n\t\t\t\"measure\": (vars.valueFormat) ? roundNumber(vars, value[1].qNum) : value[1].qText, // Do we show the Qlik format or the custom one?\r\n\t\t\t\"measureNum\": value[1].qNum,\r\n\t\t\t\"qElemNumber\": value[0].qElemNumber,\r\n\t\t}\r\n\t});\r\n\tlet width = (parseInt(vars.bar.width) && (vars.bar.width * vars.totalRows > vars.width)) ? vars.bar.width * vars.totalRows : vars.width - vars.margin.left - vars.margin.right\r\n\tlet height = vars.height - vars.margin.top - vars.margin.bottom;\r\n\t\t\r\n\t// set the ranges\r\n\tvar x = d3.scaleBand()\r\n\t\t.range([0, width])\r\n\t\t.padding(0.1);\r\n\tvar y = d3.scaleLinear()\r\n\t\t.range([height, 0])\r\n\r\n\tvar svg = d3.select(`#${vars.id}_inner .content`).append(\"svg\")\r\n\t\t.attr(\"width\", width + vars.margin.left + vars.margin.right)\r\n\t\t.attr(\"height\", height + vars.margin.top + vars.margin.bottom)\r\n\t\t.append(\"g\")\r\n\t\t.attr(\"transform\",\"translate(\" + vars.margin.left + \",\" + vars.margin.top + \")\");\r\n\r\n\t// Scale the range of the data in the domains\r\n\tx.domain(vars.data.map(function (d) { return d.dimension; }));\r\n\ty.domain([0, d3.max(vars.data, function (d) { return d.measureNum; })]);\r\n\t// y.tickFormat(function (d, i) {\r\n\t// \tconsole.log(d)\r\n\t// \t// return d.measure;\r\n\t// })\r\n\t// append the rectangles for the bar chart\r\n\tsvg.selectAll(\".bar\")\r\n\t\t.data(vars.data)\r\n\t\t.enter().append(\"rect\")\r\n\t\t.attr(\"class\", \"bar\")\r\n\t\t.attr(\"x\", function (d) { return x(d.dimension); })\r\n\t\t// .attr(\"width\", x.bandwidth())\r\n\t\t// .attr(\"width\", (vars.bar.width) ? vars.bar.width/vars.bar.count : x.bandwidth()/vars.bar.count)\r\n\t\t.attr(\"width\", (parseInt(vars.bar.width) && (vars.bar.width * vars.totalRows > vars.width)) ? vars.bar.width : x.bandwidth())\r\n\t\t.attr(\"y\", function (d) { return y(d.measureNum); })\r\n\t\t.attr(\"height\", function (d) { return height - y(d.measureNum); })\t\t\r\n\t\t.attr(\"ypos\",function (d, i) {\r\n\t\t\treturn i\r\n\t\t})\r\n\t\t.on(\"mousemove\", function (d, i) {\r\n\t\t\tvar tooltipData = {\r\n\t\t\t\tdimension: {\r\n\t\t\t\t\tvisible: vars.tooltip.visible,\r\n\t\t\t\t\tlabel: d.dimension,\r\n\t\t\t\t},\r\n\t\t\t\tmeasure: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolor: vars.bar.color,\r\n\t\t\t\t\t\tlabel: vars.measure1.label,\r\n\t\t\t\t\t\tvalue: d.measure\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t\tif($('.senseui-chartlib .sui-selection-bar:visible').length == 0) {\r\n\t\t\t\td3.select(this).style(\"fill\", vars.bar.colorHover);\r\n\t\t\t\t// d3.select(this).style(\"stroke\", vars.bar.borderColorHover);\r\n\t\t\t\t// d3.select(this).style(\"stroke-width\", vars.bar.border);\r\n\t\t\t}\r\n\t\t\tif (vars.tooltip.visible) {\r\n\t\t\t\tif (vars.tooltip.mashup && vars.tooltip.divid && $(`#${vars.tooltip.divid}`).length > 0) {\r\n\t\t\t\t\tvars.tooltip.scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft\r\n\t\t\t\t\tvars.tooltip.scrollTop = -$(`#${vars.tooltip.divid}`).offset().top;\r\n\t\t\t\t}\r\n\t\t\t\ttooltipEl\r\n\t\t\t\t\t.style(\"left\", vars.tooltip.scrollLeft + d3.event.pageX - ($('.sui-tip').width() / 2) - 7 + \"px\")\r\n\t\t\t\t\t.style(\"top\", vars.tooltip.scrollTop + d3.event.pageY - 70 + \"px\")\r\n\t\t\t\t\t.style(\"display\", \"inline-block\")\r\n\t\t\t\t\t.html(tooltip.html(tooltipData));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on(\"mouseout\", function (d, i) {\r\n\t\t\ttooltipEl.style(\"display\", \"none\");\r\n\t\t\tif ($(`#${vars.id}_inner .sui-selection-bar:visible`).length == 0) {\r\n\t\t\t\td3.select(this).style(\"fill\", vars.bar.color);\r\n\t\t\t\t// d3.select(this).style(\"stroke\", vars.bar.borderColor);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('click', function (d, i) {\r\n\t\t\ttooltipEl.style(\"display\", \"none\");\r\n\t\t\tselectElement(i, d.qElemNumber, vars)\r\n\t\t});\r\n\t\r\n\t// Add the text on top of the bars\r\n\tsvg.selectAll(\".text\")\r\n\t\t.data(vars.data)\r\n\t\t.enter().append(\"text\")\r\n\t\t.style(\"font-size\", `${vars.font.size}px`)\r\n\t\t.attr(\"text-anchor\", \"middle\")\r\n\t\t// .attr(\"x\", function (d) { return x(d.dimension)+(vars.bar.width/2); })\r\n\t\t.attr(\"x\", function (d) { return x(d.dimension)+(x.bandwidth()/2); })\r\n\t\t// .attr(\"width\", (parseInt(vars.bar.width) && (vars.bar.width * vars.totalRows > vars.width)) ? vars.bar.width : x.bandwidth())\r\n\t\t.attr(\"y\", function (d) { return y(d.measureNum)-2; })\r\n\t\t.text(function (d, i) {\treturn d.measure\t})\r\n\r\n\t// add the x Axis\r\n\tsvg.append(\"g\")\r\n\t\t.attr(\"transform\", \"translate(0,\" + height + \")\")\r\n\t\t.call(d3.axisBottom(x));\r\n\r\n\t// add the y Axis\r\n\tsvg.append(\"g\")\r\n\t\t.call(d3.axisLeft(y).tickFormat(function(d,i){\r\n\t\t\treturn (vars.valueFormat) ? roundNumber(vars, d) : d\r\n\t\t}));\r\n\r\n\t// Add the y axis legend\r\n\tsvg.append(\"text\")\r\n\t\t.style(\"fill\", \"black\")\r\n\t\t.style(\"font-size\", `${vars.font.size}px`)\r\n\t\t.attr(\"text-anchor\", \"end\")\r\n\t\t.attr(\"transform\", \"translate(-40,0) rotate(-90)\")\r\n\t\t// .attr(\"transform\", `translate(-${vars.margin.left+10},${vars.margin.top+30}) rotate(-90)`)\t\t\r\n\t\t.text(vars.measure1.label);\r\n\r\n\t// Add the footer dimension\r\n\tvar legend = `\r\n\t\t\t<div class=\"legend\" style=\"width:${vars.width}px;\">\r\n\t\t\t\t${vars.dimension1.label}\r\n\t\t\t</div>`;\r\n\t$(`#${vars.id}_inner .content`).append(legend);\r\n\r\n\tconsole.info(`%c ${vars.name}-${vars.v}: `, 'color: red', `#${vars.id} Loaded!`);\r\n}\r\n\r\nconst selectElement = (ypos, qElemNumber, vars) => {\r\n\tif (vars.enableSelections && vars.multipleSelections) {\r\n\t\tif (vars.selected.length==0) {\r\n\t\t\t$(`#${vars.id}_inner rect`).css(\"opacity\", \"0.4\")\r\n\t\t}\r\n\t\tif (vars.selected.includes(qElemNumber)) {\r\n\t\t\tvars.selected.splice(vars.selected.indexOf(qElemNumber), 1)\r\n\t\t\t$(`#${vars.id}_inner rect[ypos=\"${ypos}\"]`).css(\"fill\", vars.bar.color)\r\n\t\t\t$(`#${vars.id}_inner rect[ypos=\"${ypos}\"]`).css(\"opacity\", \"0.4\")\r\n\t\t} else {\r\n\t\t\tvars.selected.push(qElemNumber)\r\n\t\t\t$(`#${vars.id}_inner rect[ypos=\"${ypos}\"]`).css(\"fill\", vars.bar.colorHover)\r\n\t\t\t$(`#${vars.id}_inner rect[ypos=\"${ypos}\"]`).css(\"opacity\", \"1\")\r\n\t\t}\r\n\t\tif ($(`#${vars.id}_inner .sui-selection-bar:visible`).length == 0) {\r\n\t\t\t$(`#${vars.id}_inner .sui-selection-bar`).show()\r\n\t\t\t$(`#${vars.id}_inner .sui-selection-total`).show()\r\n\t\t}\r\n\t\t$(`#${vars.id}_inner .sui-selection-total`).text(`${vars.selected.length} of ${vars.data.length}`)\r\n\t} else if (vars.enableSelections && !vars.multipleSelections) {\r\n\t\tvars.this.backendApi.selectValues(0, [qElemNumber], true);\r\n\t}\r\n}\r\n\r\nexport default me\n\n\n// WEBPACK FOOTER //\n// ./src/components/vertical-bar/index.js",
        "// import horizontalBarDefinition from '../components/horizontal-bar/definition';\n// horizontalBarDefinition = JSON.stringify(horizontalBarDefinition)\n// console.log(horizontalBarDefinition)\nexport default {\n\ttype: \"items\",\n\tcomponent: \"accordion\",\n\titems: {\n\t\tdata : {\n\t\t\tuses: \"data\",\n\t\t\tmin: 1,\n\t\t\tmax: 5\n\t\t},\t\t\n\t\t// dimensions: {\n\t\t// \tuses: \"dimensions\",\n\t\t// \tmin: 1,\n\t\t// \tmax: 2\n\t\t// },\n\t\t// measures: {\n\t\t// \tuses: \"measures\",\n\t\t// \tmin: 0,\n\t\t// \tmax: 4\n\t\t// },\n\t\tsorting: {\n\t\t\tuses: \"sorting\"\n\t\t},\n\t\tsettings : {\n\t\t\tuses : \"settings\",\n\t\t\titems: {\n\t\t\t\tgeneral: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"General\",\n\t\t\t\t\titems: {\n\t\t\t\t\t\t/*********************************\n\t\t\t\t\t\t** CHART SELECTOR\n\t\t\t\t\t\t*********************************/\n\t\t\t\t\t\tchartSelector: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tcomponent: \"dropdown\",\n\t\t\t\t\t\t\tlabel: \"SELECT VISUALIZATION\",\n\t\t\t\t\t\t\tref: \"vars.chart\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: \"horizontal-bar\",\n\t\t\t\t\t\t\t\tlabel: \"Horizontal Bar Chart\"\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\tvalue: \"vertical-bar\",\n\t\t\t\t\t\t\t\tlabel: \"Vertical Bar Chart\"\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\tvalue: \"bipartite\",\n\t\t\t\t\t\t\t\tlabel: \"BiPartite Chart\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: \"listbox\",\n\t\t\t\t\t\t\t\tlabel: \"Listbox\"\n\t\t\t\t\t\t\t}, \n\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t// \tvalue: \"canvas-barchart\",\n\t\t\t\t\t\t\t// \tlabel: \"canvas-barchart\"\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tdefaultValue: \"horizontal-bar\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcustomSection: {\n\t\t\tcomponent: \"expandable-items\",\n\t\t\tlabel: \"SenseUI-Chart Settings\",\t\n\t\t\titems: {\n\t\t\t\t/*********************************\n\t\t\t\t** HORIZONTAL BAR SETTINGS\n\t\t\t\t*********************************/\n\t\t\t\tgeneral: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"General\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"horizontal-bar\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\tColor: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Text color\",\n\t\t\t\t\t\t\tdefaultValue: \"#000000\",\n\t\t\t\t\t\t\tref: \"vars.color\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tFontSize: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Font Size\",\n\t\t\t\t\t\t\tdefaultValue: \"11\",\n\t\t\t\t\t\t\tref: \"vars.fontSize\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcustomValueFormat: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Value Custom Format?\",\n\t\t\t\t\t\t\tref: \"vars.valueFormat\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Custom\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Qlik\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsymbolVisible: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Add symbols in the bar text?\",\n\t\t\t\t\t\t\tref: \"vars.symbol.visible\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Yes\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"No\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.valueFormat) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsymbolChar: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tcomponent: \"dropdown\",\n\t\t\t\t\t\t\tlabel: \"Symbol\",\n\t\t\t\t\t\t\tref: \"vars.symbol.char\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: \"$\",\n\t\t\t\t\t\t\t\tlabel: \"$\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: \"€\",\n\t\t\t\t\t\t\t\tlabel: \"€\",\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: \"other\",\n\t\t\t\t\t\t\t\tlabel: \"other\",\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.symbol && data.vars.symbol.visible) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsymbolCharOther: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tlabel: \"Other Symbol\",\n\t\t\t\t\t\t\tref: \"vars.symbol.other\",\n\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tdata.vars.symbol && \n\t\t\t\t\t\t\t\t\tdata.vars.symbol.visible && \n\t\t\t\t\t\t\t\t\tdata.vars.symbol.char && \n\t\t\t\t\t\t\t\t\tdata.vars.symbol.char==='other'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsymbolCharOtherPosition: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Symbol Position\",\n\t\t\t\t\t\t\tref: \"vars.symbol.otherPosition\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Left\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Right\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.symbol && data.vars.symbol.visible && data.vars.symbol.char && data.vars.symbol.char==='other') {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprecision: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Display decimals?\",\n\t\t\t\t\t\t\tref: \"vars.precision\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Yes\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"No\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlimit: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Limit the number of bars (0 for All)\",\n\t\t\t\t\t\t\tdefaultValue: \"0\",\n\t\t\t\t\t\t\tref: \"vars.limit\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnoData: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Text to display if there is no Data\",\n\t\t\t\t\t\t\tdefaultValue: \"No Data Available\",\n\t\t\t\t\t\t\tref: \"vars.noData\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmultipleSelections: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Allow Multiple Selections?\",\n\t\t\t\t\t\t\tref: \"vars.multipleSelections\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Yes\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"No\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tbar: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"Bar\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"horizontal-bar\" || data.vars.chart===\"vertical-bar\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\tbarFillColor: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Fill color Separated by comma if stacked bar. If Empty, use default Sense palette\",\n\t\t\t\t\t\t\tdefaultValue: \"#4477AA\",\n\t\t\t\t\t\t\tref: \"vars.bar.fillColor\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarFillColorByExpr: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"optional\",\n\t\t\t\t\t\t\tlabel: \"Fill Color By Expression\",\n\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\tref: \"vars.bar.fillColorByExpr\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarFillHoverColor: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Fill hover color\",\n\t\t\t\t\t\t\tdefaultValue: \"#77b62a\",\n\t\t\t\t\t\t\tref: \"vars.bar.fillHoverColor\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarTextColor: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Text color\",\n\t\t\t\t\t\t\tdefaultValue: \"#000000\",\n\t\t\t\t\t\t\tref: \"vars.bar.textColor\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarTextHoverColor: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Text hover color\",\n\t\t\t\t\t\t\tdefaultValue: \"#000000\",\n\t\t\t\t\t\t\tref: \"vars.bar.textHoverColor\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarBorderWeight: {\n\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Border weight\",\n\t\t\t\t\t\t\tcomponent: \"slider\",\n\t\t\t\t\t\t\tref: \"vars.bar.borderWeight\",\n\t\t\t\t\t\t\tdefaultValue: 0,\n\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\tmax: 3\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarBorderColor: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Border color\",\n\t\t\t\t\t\t\tdefaultValue: \"#404040\",\n\t\t\t\t\t\t\tref: \"vars.bar.borderColor\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarBorderColorHover: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Border Hover Color\",\n\t\t\t\t\t\t\tdefaultValue: \"#77b62a\",\n\t\t\t\t\t\t\tref: \"vars.bar.borderColorHover\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarSpacing: {\n\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Spacing\",\n\t\t\t\t\t\t\tcomponent: \"slider\",\n\t\t\t\t\t\t\tref: \"vars.bar.spacing\",\n\t\t\t\t\t\t\tdefaultValue: 3,\n\t\t\t\t\t\t\tmin: 3,\n\t\t\t\t\t\t\tmax: 10\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarHeight: {\n\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Bar height\",\n\t\t\t\t\t\t\tdefaultValue: 20,\n\t\t\t\t\t\t\tref: \"vars.bar.height\",\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"horizontal-bar\") {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarHideValues: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Hide Values\",\n\t\t\t\t\t\t\tref: \"vars.bar.hideValues\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Values are hidden\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Values are visible\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenableSelections: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Enable Selections\",\n\t\t\t\t\t\t\tref: \"vars.enableSelections\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// lollipop: {\n\t\t\t\t\t\t// \ttype: \"boolean\",\n\t\t\t\t\t\t// \tcomponent: \"switch\",\n\t\t\t\t\t\t// \tlabel: \"Lollipop View\",\n\t\t\t\t\t\t// \tref: \"vars.bar.lollipop\",\n\t\t\t\t\t\t// \tshow : function(data) {\n\t\t\t\t\t\t// \t\tif (data.vars.chart && data.vars.chart===\"horizontal-bar\") {\n\t\t\t\t\t\t// \t\t\treturn true;\n\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t// \t},\n\t\t\t\t\t\t// \toptions: [{\n\t\t\t\t\t\t// \t\tvalue: true,\n\t\t\t\t\t\t// \t\tlabel: \"On\"\n\t\t\t\t\t\t// \t}, {\n\t\t\t\t\t\t// \t\tvalue: false,\n\t\t\t\t\t\t// \t\tlabel: \"Off\"\n\t\t\t\t\t\t// \t}],\n\t\t\t\t\t\t// \tdefaultValue: false\n\t\t\t\t\t\t// },\n\t\t\t\t\t\tgrouped: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Grouped View\",\n\t\t\t\t\t\t\tref: \"vars.bar.grouped\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.qHyperCubeDef.qMeasures.length>1) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttooltip: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"Tooltip\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"horizontal-bar\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\t// @TODO add show function on all tolltip elements if visible is false\n\t\t\t\t\t\ttoolVisible: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Show Tooltip?\",\n\t\t\t\t\t\t\tref: \"vars.tooltip.visible\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdimension: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Show Dimension?\",\n\t\t\t\t\t\t\tref: \"vars.tooltip.dimension\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmashup: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Will this be in a mashup?\",\n\t\t\t\t\t\t\tref: \"vars.tooltip.mashup\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Yes\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"No\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmashupDiv: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"What is the mashup div id to calculate correct positioning\",\n\t\t\t\t\t\t\tdefaultValue: \"maincontent\",\n\t\t\t\t\t\t\tref: \"vars.tooltip.divid\",\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.tooltip && data.vars.tooltip.mashup) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\txaxis: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"X axis\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"horizontal-bar\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\txaxisVisible: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Show X Axis?\",\n\t\t\t\t\t\t\tref: \"vars.xaxis.visible\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegendVisible: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Show Legend?\",\n\t\t\t\t\t\t\tref: \"vars.legend.visible\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tyaxis: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"Y axis\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"horizontal-bar\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\tyaxisVisible: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Show Y Axis?\",\n\t\t\t\t\t\t\tref: \"vars.yaxis.visible\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tyaxisWidth: {\n\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Label width\",\n\t\t\t\t\t\t\tdefaultValue: 150,\n\t\t\t\t\t\t\tref: \"vars.yaxis.width\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tyaxisCharacters: {\n\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Number of visible characters\",\n\t\t\t\t\t\t\tdefaultValue: 50,\n\t\t\t\t\t\t\tref: \"vars.yaxis.characters\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tyaxisRightPadding: {\n\t\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Right Padding\",\n\t\t\t\t\t\t\tdefaultValue: 50,\n\t\t\t\t\t\t\tref: \"vars.yaxis.rightPadding\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\talign: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tcomponent: \"buttongroup\",\n\t\t\t\t\t\t\tlabel: \"Align labels\",\n\t\t\t\t\t\t\tref: \"vars.yaxis.align\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: \"left\",\n\t\t\t\t\t\t\t\tlabel: \"Left\",\n\t\t\t\t\t\t\t\ttooltip: \"Align Left\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: \"right\",\n\t\t\t\t\t\t\t\tlabel: \"Right\",\n\t\t\t\t\t\t\t\ttooltip: \"Align Right\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: \"left\"\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t/*********************************\n\t\t\t\t** COMBO CHART SETTINGS\n\t\t\t\t*********************************/\n\t\t\t\theaderCombo: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"COMBO CHART\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"combo\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\theader2item1: {\n\t\t\t\t\t\t\tref: \"props.section2.item1\",\n\t\t\t\t\t\t\tlabel: \"Section 2 / Item 1\",\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"optional\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/*********************************\n\t\t\t\t** VERTICAL BAR SETTINGS\n\t\t\t\t*********************************/\n\t\t\t\tgeneralVertical: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"General\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"vertical-bar\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\tfontSize: {\n\t\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Text Size\",\n\t\t\t\t\t\t\tdefaultValue: \"10\",\n\t\t\t\t\t\t\tref: \"vars.font.size\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfontColor: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Font Color\",\n\t\t\t\t\t\t\tdefaultValue: \"#000000\",\n\t\t\t\t\t\t\tref: \"vars.font.color\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisplayLegend: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Display Legend\",\n\t\t\t\t\t\t\tref: \"vars.legend\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegendAlignment: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tcomponent: \"radiobuttons\",\n\t\t\t\t\t\t\tlabel: \"Align Legend\",\n\t\t\t\t\t\t\tref: \"vars.legendAlignment\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: \"left\",\n\t\t\t\t\t\t\t\tlabel: \"Left\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: \"center\",\n\t\t\t\t\t\t\t\tlabel: \"Center\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: \"right\",\n\t\t\t\t\t\t\t\tlabel: \"Right\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: \"center\",\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.legend) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenableSelections: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Enable Selections\",\n\t\t\t\t\t\t\tref: \"vars.enableSelections\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tyAxisMax: {\n\t\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Y-Axis Max (0 for Auto)\",\n\t\t\t\t\t\t\tdefaultValue: 0,\n\t\t\t\t\t\t\tref: \"vars.yaxis.max\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tyAxisMin: {\n\t\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Y-Axis Min (0 for Auto)\",\n\t\t\t\t\t\t\tdefaultValue: 0,\n\t\t\t\t\t\t\tref: \"vars.yaxis.min\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbarWidth: {\n\t\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Bar Width (0 for auto scaling)\",\n\t\t\t\t\t\t\tdefaultValue: \"0\",\n\t\t\t\t\t\t\tref: \"vars.bar.width\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsymbolVisible: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Add symbols the bar text?\",\n\t\t\t\t\t\t\tref: \"vars.symbol.visible\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Yes\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"No\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsymbolChar: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tcomponent: \"dropdown\",\n\t\t\t\t\t\t\tlabel: \"Symbol\",\n\t\t\t\t\t\t\tref: \"vars.symbol.char\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: \"$\",\n\t\t\t\t\t\t\t\tlabel: \"$\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: \"€\",\n\t\t\t\t\t\t\t\tlabel: \"€\",\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: \"other\",\n\t\t\t\t\t\t\t\tlabel: \"other\",\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.symbol && data.vars.symbol.visible) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsymbolCharOther: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tlabel: \"Other Symbol\",\n\t\t\t\t\t\t\tref: \"vars.symbol.other\",\n\t\t\t\t\t\t\tdefaultValue: \"\",\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tdata.vars.symbol && \n\t\t\t\t\t\t\t\t\tdata.vars.symbol.visible && \n\t\t\t\t\t\t\t\t\tdata.vars.symbol.char && \n\t\t\t\t\t\t\t\t\tdata.vars.symbol.char==='other'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsymbolCharOtherPosition: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Symbol Position\",\n\t\t\t\t\t\t\tref: \"vars.symbol.otherPosition\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Left\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Right\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.symbol && data.vars.symbol.visible && data.vars.symbol.char && data.vars.symbol.char==='other') {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprecision: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Display decimals?\",\n\t\t\t\t\t\t\tref: \"vars.precision\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Yes\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"No\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmashupDiv: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"What is the mashup div id to calculate correct positioning\",\n\t\t\t\t\t\t\tdefaultValue: \"main\",\n\t\t\t\t\t\t\tref: \"vars.tooltip.divid\"\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tmeasure1: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"Measure - Bar Chart\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"vertical-bar\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\tmeasure1color: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Color\",\n\t\t\t\t\t\t\tdefaultValue: \"#4477AA\",\n\t\t\t\t\t\t\tref: \"vars.measure1.color\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmeasure1stroke: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Line Width/Bar Border Width\",\n\t\t\t\t\t\t\tdefaultValue: \"1\",\n\t\t\t\t\t\t\tref: \"vars.measure1.stroke\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmeasure1colorHover: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Hover Color\",\n\t\t\t\t\t\t\tdefaultValue: \"#77B62A\",\n\t\t\t\t\t\t\tref: \"vars.measure1.colorHover\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmeasure1strokeColor: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Line/Bar Border Color\",\n\t\t\t\t\t\t\tdefaultValue: \"#77B62A\",\n\t\t\t\t\t\t\tref: \"vars.measure1.strokeColor\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmeasure1strokeColorHover: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Line/Bar Border Hover Color\",\n\t\t\t\t\t\t\tdefaultValue: \"#77b62a\",\n\t\t\t\t\t\t\tref: \"vars.measure1.strokeColorHover\"\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t/*********************************\n\t\t\t\t** LISTBOXSETTINGS\n\t\t\t\t*********************************/\n\t\t\t\tlistbox: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"LISTBOX\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"listbox\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Horizonta/Vertical\",\n\t\t\t\t\t\t\tref: \"vars.listbox.type\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"Horizontal\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Vertical\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseparator: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Separator\",\n\t\t\t\t\t\t\tdefaultValue: \"|\",\n\t\t\t\t\t\t\tref: \"vars.listbox.separator\",\n\t\t\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\t\t\tif (data.vars.listbox && data.vars.listbox.type) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisableSelections: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Disable Selections\",\n\t\t\t\t\t\t\tref: \"vars.listbox.disableSelections\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"True\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"False\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: false\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/*********************************\n\t\t\t\t** BiPARTITE\n\t\t\t\t*********************************/\n\t\t\t\tbipartite: {\n\t\t\t\t\ttype: \"items\",\n\t\t\t\t\tlabel: \"BIPARTITE\",\n\t\t\t\t\tshow : function(data) {\n\t\t\t\t\t\tif (data.vars.chart && data.vars.chart===\"bipartite\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titems: {\n\t\t\t\t\t\tPalette: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Color Palette\",\n\t\t\t\t\t\t\tdefaultValue: \"#A6CEE3,#1F78B4,#B2DF8A,#33A02C,#FB9A99,#E31A1C,#FDBF6F,#FF7F00,#CAB2D6,#6A3D9A,#FFFF99,#B15928\",\n\t\t\t\t\t\t\tref: \"vars.palette\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenableSelections: {\n\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\tlabel: \"Enable Selections\",\n\t\t\t\t\t\t\tref: \"vars.enableSelections\",\n\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\tlabel: \"On\"\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tlabel: \"Off\"\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlimit: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texpression: \"none\",\n\t\t\t\t\t\t\tlabel: \"Show Results above\",\n\t\t\t\t\t\t\tdefaultValue: \"0\",\n\t\t\t\t\t\t\tref: \"vars.limit\"\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/definition.js",
        "export default {\n\tqHyperCubeDef: {\n\t\tqDimensions: [],\n\t\tqMeasures: [],\n\t\tqInitialDataFetch: [{\n\t\t\tqWidth: 5,\n\t\t\tqHeight: 50\n\t\t}]\n\t},\n\tqSelectionObjectDef: {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/initialProperties.js",
        "// !function(){\r\nlet me = (d3, vars) => {\r\n\tvar viz = { version: \"1.1.8\" };\r\n\tvar τ = 2 * Math.PI, π = Math.PI, π2 = Math.PI / 2;\r\n\r\n\tviz.bP = function () {\r\n\t\tvar key_scale, value_scale\r\n\t\t\t, keyPrimary, keySecondary, value\r\n\t\t\t, width, height, orient, barSize, min, pad\r\n\t\t\t, data, fill, g, edgeOpacity, duration\r\n\t\t\t, sortPrimary, sortSecondary, edgeMode\r\n\t\t\t;\r\n\t\tfunction bP(_) {\r\n\t\t\tg = _;\r\n\t\t\t_.each(function () {\r\n\t\t\t\tvar g = d3.select(this);\r\n\t\t\t\tvar bars = bP.bars();\r\n\r\n\t\t\t\tvar s = g.selectAll(\".subBars\")\r\n\t\t\t\t\t.data(bars.subBars)\r\n\t\t\t\t\t.enter()\r\n\t\t\t\t\t.append(\"g\")\r\n\t\t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\t\t\t\t\t.attr(\"class\", \"subBars\")\r\n\t\t\t\t\t.append(\"rect\")\r\n\t\t\t\t\t.attr(\"x\", fx).attr(\"y\", fy).attr(\"width\", fw).attr(\"height\", fh);\r\n\r\n\t\t\t\tif (typeof fill !== \"undefined\") s.style(\"fill\", function (d) { return fill(d); });\r\n\r\n\t\t\t\tvar e = g.selectAll(\".edges\")\r\n\t\t\t\t\t.data(bars.edges)\r\n\t\t\t\t\t.enter()\r\n\t\t\t\t\t.append(\"path\")\r\n\t\t\t\t\t.attr(\"class\", \"edges\")\r\n\t\t\t\t\t.attr(\"d\", function (d) { return d.path; })\r\n\t\t\t\t\t.style(\"fill-opacity\", bP.edgeOpacity());\r\n\r\n\t\t\t\tif (typeof fill !== \"undefined\") e.style(\"fill\", function (d) { return fill(d); });\r\n\r\n\t\t\t\tg.selectAll(\".mainBars\")\r\n\t\t\t\t\t.data(bars.mainBars)\r\n\t\t\t\t\t.enter()\r\n\t\t\t\t\t.append(\"g\")\r\n\t\t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\t\t\t\t\t.attr(\"class\", \"mainBars\")\r\n\t\t\t\t\t.append(\"rect\")\r\n\t\t\t\t\t.attr(\"x\", fx).attr(\"y\", fy).attr(\"width\", fw).attr(\"height\", fh)\r\n\t\t\t\t\t.style(\"fill-opacity\", 0)\r\n\t\t\t\t\t.on(\"mouseover\", bP.mouseover)\r\n\t\t\t\t\t.on(\"mouseout\", bP.mouseout);\r\n\t\t\t});\r\n\t\t}\r\n\t\tbP.data = function (_) {\r\n\t\t\tif (!arguments.length) return data;\r\n            data = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.fill = function (_) {\r\n\t\t\tif (!arguments.length) return fill;\r\n\t\t\tfill = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.keyPrimary = function (_) {\r\n\t\t\tif (!arguments.length) return typeof keyPrimary !== \"undefined\" ? keyPrimary : function (d) { return d[0]; };\r\n\t\t\tkeyPrimary = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\t// bP.sortPrimary = function (_) {\r\n\t\t// \tif (!arguments.length) return typeof sortPrimary !== \"undefined\" ? sortPrimary : d3.ascending;\r\n\t\t// \tsortPrimary = _;\r\n\t\t// \treturn bP;\r\n\t\t// }\r\n\t\tbP.keySecondary = function (_) {\r\n\t\t\tif (!arguments.length) return typeof keySecondary !== \"undefined\" ? keySecondary : function (d) { return d[1]; };\r\n\t\t\tkeySecondary = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\t// bP.sortSecondary = function (_) {\r\n\t\t// \tif (!arguments.length) return typeof sortSecondary !== \"undefined\" ? sortSecondary : d3.ascending;\r\n\t\t// \tsortSecondary = _;\r\n\t\t// \treturn bP;\r\n\t\t// }\r\n\t\tbP.value = function (_) {\r\n\t\t\tif (!arguments.length) return typeof value !== \"undefined\" ? value : function (d) { return d[2]; };\r\n\t\t\tvalue = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.width = function (_) {\r\n\t\t\tif (!arguments.length) return typeof width !== \"undefined\" ? width : 400;\r\n\t\t\twidth = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.height = function (_) {\r\n\t\t\tif (!arguments.length) return typeof height !== \"undefined\" ? height : 600;\r\n            height = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.barSize = function (_) {\r\n\t\t\tif (!arguments.length) return typeof barSize !== \"undefined\" ? barSize : 35;\r\n\t\t\tbarSize = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.min = function (_) {\r\n\t\t\tif (!arguments.length) return typeof min !== \"undefined\" ? min : 0;\r\n\t\t\tmin = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.orient = function (_) {\r\n\t\t\tif (!arguments.length) return typeof orient !== \"undefined\" ? orient : \"vertical\";\r\n\t\t\torient = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.pad = function (_) {\r\n\t\t\tif (!arguments.length) return typeof pad !== \"undefined\" ? pad : 0;\r\n\t\t\tpad = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.duration = function (_) {\r\n\t\t\tif (!arguments.length) return typeof duration !== \"undefined\" ? duration : 500;\r\n\t\t\tduration = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.edgeOpacity = function (_) {\r\n\t\t\tif (!arguments.length) return typeof edgeOpacity !== \"undefined\" ? edgeOpacity : .4;\r\n\t\t\tedgeOpacity = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.edgeMode = function (_) {\r\n\t\t\tif (!arguments.length) return typeof edgeMode !== \"undefined\" ? edgeMode : \"curved\";\r\n\t\t\tedgeMode = _;\r\n\t\t\treturn bP;\r\n\t\t}\r\n\t\tbP.bars = function (mb) {\r\n\t\t\tvar mainBars = { primary: [], secondary: [] };\r\n\t\t\tvar subBars = { primary: [], secondary: [] };\r\n\t\t\tvar key = { primary: bP.keyPrimary(), secondary: bP.keySecondary() };\r\n\t\t\tvar _or = bP.orient();\r\n\r\n\t\t\tcalculateMainBars(\"primary\");\r\n\t\t\tcalculateMainBars(\"secondary\");\r\n\t\t\tcalculateSubBars(\"primary\");\r\n\t\t\tcalculateSubBars(\"secondary\");\r\n\t\t\tfloorMainBars(); // ensure that main bars is atleast of size mi.n\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmainBars: mainBars.primary.concat(mainBars.secondary)\r\n\t\t\t\t, subBars: subBars.primary.concat(subBars.secondary)\r\n\t\t\t\t, edges: calculateEdges()\r\n\t\t\t};\r\n\r\n\t\t\tfunction isSelKey(d, part) {\r\n\t\t\t\treturn (typeof mb === \"undefined\" || mb.part === part) || (key[mb.part](d) === mb.key);\r\n\t\t\t}\r\n\t\t\tfunction floorMainBars() {\r\n\t\t\t\t// var m = ((bP.min() / 2)>20) ? bP.min() / 2 : 20;\r\n\t\t\t\tvar m = bP.min() / 2;\r\n\r\n\t\t\t\tmainBars.primary.forEach(function (d) {\r\n\t\t\t\t\tif (d.height < m) d.height = m;\r\n\t\t\t\t});\r\n\t\t\t\tmainBars.secondary.forEach(function (d) {\r\n\t\t\t\t\tif (d.height < m) d.height = m;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfunction calculateMainBars(part) {\r\n\t\t\t\tfunction v(d) { return isSelKey(d, part) ? bP.value()(d) : 0 }\r\n\r\n\t\t\t\tvar ps = d3.nest()\r\n\t\t\t\t\t.key(part == \"primary\" ? bP.keyPrimary() : bP.keySecondary())\r\n\t\t\t\t\t// .sortKeys(part == \"primary\" ? bP.sortPrimary() : bP.sortSecondary())\r\n\t\t\t\t\t.rollup(function (d) { return d3.sum(d, v); })\r\n\t\t\t\t\t.entries(bP.data())\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\tvar bars = bpmap(ps, bP.pad(), bP.min(), 0, _or == \"vertical\" ? bP.height() : bP.width());\r\n\t\t\t\tvar bsize = bP.barSize();\r\n\t\t\t\tps.forEach(function (d, i) {\r\n\t\t\t\t\tmainBars[part].push({\r\n\t\t\t\t\t\tx: _or == \"horizontal\" ? (bars[i].s + bars[i].e) / 2 : (part == \"primary\" ? bsize / 2 : bP.width() - bsize / 2)\r\n\t\t\t\t\t\t, y: _or == \"vertical\" ? (bars[i].s + bars[i].e) / 2 : (part == \"primary\" ? bsize / 2 : bP.height() - bsize / 2)\r\n\t\t\t\t\t\t, height: _or == \"vertical\" ? (bars[i].e - bars[i].s) / 2 : bsize / 2\r\n\t\t\t\t\t\t, width: _or == \"horizontal\" ? (bars[i].e - bars[i].s) / 2 : bsize / 2\r\n\t\t\t\t\t\t, part: part\r\n\t\t\t\t\t\t, key: d.key\r\n\t\t\t\t\t\t, value: d.value\r\n\t\t\t\t\t\t, percent: bars[i].p\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfunction calculateSubBars(part) {\r\n\t\t\t\tfunction v(d) { return isSelKey(d, part) ? bP.value()(d) : 0 }\r\n\r\n\t\t\t\tvar sort = part == \"primary\"\r\n\t\t\t\t\t? function (a, b) { return bP.sortPrimary()(a.key, b.key); }\r\n\t\t\t\t\t: function (a, b) { return bP.sortSecondary()(a.key, b.key); }\r\n\r\n\t\t\t\tvar map = d3.map(mainBars[part], function (d) { return d.key });\r\n\r\n\t\t\t\tvar ps = d3.nest()\r\n\t\t\t\t\t.key(part == \"primary\" ? bP.keyPrimary() : bP.keySecondary())\r\n\t\t\t\t\t// .sortKeys(part == \"primary\" ? bP.sortPrimary() : bP.sortSecondary())\r\n\t\t\t\t\t.key(part == \"secondary\" ? bP.keyPrimary() : bP.keySecondary())\r\n\t\t\t\t\t// .sortKeys(part == \"secondary\" ? bP.sortPrimary() : bP.sortSecondary())\r\n\t\t\t\t\t.rollup(function (d) { return d3.sum(d, v); })\r\n\t\t\t\t\t.entries(bP.data());\r\n\r\n\t\t\t\tps.forEach(function (d) {\r\n\t\t\t\t\tvar g = map.get(d.key);\r\n\t\t\t\t\tvar bars = bpmap(d.values, 0, 0\r\n\t\t\t\t\t\t, _or == \"vertical\" ? g.y - g.height : g.x - g.width\r\n\t\t\t\t\t\t, _or == \"vertical\" ? g.y + g.height : g.x + g.width);\r\n\r\n\t\t\t\t\tvar bsize = bP.barSize();\r\n\t\t\t\t\td.values.forEach(function (t, i) {\r\n\t\t\t\t\t\tsubBars[part].push({\r\n\t\t\t\t\t\t\tx: _or == \"vertical\" ? part == \"primary\" ? bsize / 2 : bP.width() - bsize / 2 : (bars[i].s + bars[i].e) / 2\r\n\t\t\t\t\t\t\t, y: _or == \"horizontal\" ? part == \"primary\" ? bsize / 2 : bP.height() - bsize / 2 : (bars[i].s + bars[i].e) / 2\r\n\t\t\t\t\t\t\t, height: (_or == \"vertical\" ? bars[i].e - bars[i].s : bsize) / 2\r\n\t\t\t\t\t\t\t, width: (_or == \"horizontal\" ? bars[i].e - bars[i].s : bsize) / 2\r\n\t\t\t\t\t\t\t, part: part\r\n\t\t\t\t\t\t\t, primary: part == \"primary\" ? d.key : t.key\r\n\t\t\t\t\t\t\t, secondary: part == \"primary\" ? t.key : d.key\r\n\t\t\t\t\t\t\t, value: t.value\r\n\t\t\t\t\t\t\t, percent: bars[i].p * g.percent\r\n\t\t\t\t\t\t\t, index: part == \"primary\" ? d.key + \"|\" + t.key : t.key + \"|\" + d.key //index \r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfunction calculateEdges() {\r\n\t\t\t\tvar map = d3.map(subBars.secondary, function (d) { return d.index; });\r\n\t\t\t\tvar eMode = bP.edgeMode();\r\n\r\n\t\t\t\treturn subBars.primary.map(function (d) {\r\n\t\t\t\t\tvar g = map.get(d.index);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpath: _or === \"vertical\"\r\n\t\t\t\t\t\t\t? edgeVert(d.x + d.width, d.y + d.height, g.x - g.width, g.y + g.height, g.x - g.width, g.y - g.height, d.x + d.width, d.y - d.height)\r\n\t\t\t\t\t\t\t: edgeHoriz(d.x - d.width, d.y + d.height, g.x - g.width, g.y - g.height, g.x + g.width, g.y - g.height, d.x + d.width, d.y + d.height)\r\n\t\t\t\t\t\t, primary: d.primary\r\n\t\t\t\t\t\t, secondary: d.secondary\r\n\t\t\t\t\t\t, value: d.value\r\n\t\t\t\t\t\t, percent: d.percent\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tfunction edgeVert(x1, y1, x2, y2, x3, y3, x4, y4) {\r\n\t\t\t\t\tif (eMode == \"straight\") return [\"M\", x1, \",\", y1, \"L\", x2, \",\", y2, \"L\", x3, \",\", y3, \"L\", x4, \",\", y4, \"z\"].join(\"\")\r\n\t\t\t\t\tvar mx1 = (x1 + x2) / 2, mx3 = (x3 + x4) / 2;\r\n\t\t\t\t\treturn [\"M\", x1, \",\", y1, \"C\", mx1, \",\", y1, \" \", mx1, \",\", y2, \",\", x2, \",\", y2, \"L\"\r\n\t\t\t\t\t\t, x3, \",\", y3, \"C\", mx3, \",\", y3, \" \", mx3, \",\", y4, \",\", x4, \",\", y4, \"z\"].join(\"\");\r\n\t\t\t\t}\r\n\t\t\t\tfunction edgeHoriz(x1, y1, x2, y2, x3, y3, x4, y4) {\r\n\t\t\t\t\tif (eMode == \"straight\") return [\"M\", x1, \",\", y1, \"L\", x2, \",\", y2, \"L\", x3, \",\", y3, \"L\", x4, \",\", y4, \"z\"].join(\"\")\r\n\t\t\t\t\tvar my1 = (y1 + y2) / 2, my3 = (y3 + y4) / 2;\r\n\t\t\t\t\treturn [\"M\", x1, \",\", y1, \"C\", x1, \",\", my1, \" \", x2, \",\", my1, \",\", x2, \",\", y2, \"L\"\r\n\t\t\t\t\t\t, x3, \",\", y3, \"C\", x3, \",\", my3, \" \", x4, \",\", my3, \",\", x4, \",\", y4, \"z\"].join(\"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction bpmap(a/*array*/, p/*pad*/, m/*min*/, s/*start*/, e/*end*/) {  \r\n\t\t\t\tvar r = m / (e - s - 2 * a.length * p); // cut-off for ratios\r\n\t\t\t\tvar ln = 0, lp = 0, t = d3.sum(a, function (d) { return d.value; }); // left over count and percent.\r\n\t\t\t\ta.forEach(function (d) { if (d.value < r * t) { ln += 1; lp += d.value; } })\r\n\t\t\t\tvar o = t < 1e-5 ? 0 : (e - s - 2 * a.length * p - ln * m) / (t - lp); // scaling factor for percent.\r\n\t\t\t\tvar b = s, ret = [];\r\n\t\t\t\ta.forEach(function (d) {\r\n\t\t\t\t\tvar v = d.value * o;\r\n\t\t\t\t\tret.push({\r\n\t\t\t\t\t\ts: b + p + (v < m ? .5 * (m - v) : 0)\r\n\t\t\t\t\t\t, e: b + p + (v < m ? .5 * (m + v) : v)\r\n\t\t\t\t\t\t, p: t < 1e-5 ? 0 : d.value / t\r\n\t\t\t\t\t});\r\n\t\t\t\t\tb += 2 * p + (v < m ? m : v);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t}\r\n\t\tbP.update = function (_data) {\r\n\t\t\tdata = _data;\r\n\t\t\tvar b1 = bP.bars();\r\n\t\t\tvar dur = bP.duration();\r\n\r\n\t\t\tg.selectAll(\".subBars\").data(b1.subBars).transition().duration(dur)\r\n\t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\t\t\t\t.select(\"rect\")\r\n\t\t\t\t.attr(\"x\", fx).attr(\"y\", fy).attr(\"width\", fw).attr(\"height\", fh);\r\n\r\n\t\t\tg.selectAll(\".edges\").data(b1.edges).transition().duration(dur)\r\n\t\t\t\t.attr(\"d\", function (d) { return d.path; })\r\n\t\t\t\t.style(\"fill-opacity\", bP.edgeOpacity())\r\n\r\n\t\t\tg.selectAll(\".mainBars\").data(b1.mainBars).transition().duration(dur)\r\n\t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\t\t\t\t.select(\"rect\")\r\n\t\t\t\t.attr(\"x\", fx).attr(\"y\", fy).attr(\"width\", fw).attr(\"height\", fh)\r\n\t\t\t\t.style(\"fill-opacity\", 0)\r\n\t\t}\r\n\t\tbP.mouseover = function (d) {\r\n\t\t\tvar newbars = bP.bars(d);\r\n\t\t\tg.selectAll(\".mainBars\").filter(function (r) { return r.part === d.part && r.key === d.key })\r\n\t\t\t\t.select(\"rect\").style(\"stroke-opacity\", 1);\r\n\r\n\t\t\tg.selectAll(\".subBars\").data(newbars.subBars)\r\n\t\t\t\t.transition().duration(bP.duration())\r\n\t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\t\t\t\t.select(\"rect\").attr(\"x\", fx).attr(\"y\", fy).attr(\"width\", fw).attr(\"height\", fh);\r\n\r\n\t\t\tvar e = g.selectAll(\".edges\")\r\n\t\t\t\t.data(newbars.edges);\r\n\r\n\t\t\te.filter(function (t) { return t[d.part] === d.key; })\r\n\t\t\t\t.transition().duration(bP.duration())\r\n\t\t\t\t.style(\"fill-opacity\", bP.edgeOpacity())\r\n\t\t\t\t.attr(\"d\", function (d) { return d.path });\r\n\r\n\t\t\te.filter(function (t) { return t[d.part] !== d.key; })\r\n\t\t\t\t.transition().duration(bP.duration())\r\n\t\t\t\t.style(\"fill-opacity\", 0)\r\n\t\t\t\t.attr(\"d\", function (d) { return d.path });\r\n\r\n\t\t\tg.selectAll(\".mainBars\").data(newbars.mainBars)\r\n\t\t\t\t.transition().duration(bP.duration())\r\n\t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\t\t\t\t.select(\"rect\").attr(\"x\", fx).attr(\"y\", fy).attr(\"width\", fw).attr(\"height\", fh)\r\n\t\t}\r\n\t\tbP.mouseout = function (d) {\r\n\t\t\tvar newbars = bP.bars();\r\n\r\n\t\t\tg.selectAll(\".mainBars\").filter(function (r) { return r.part === d.part && r.key === d.key })\r\n\t\t\t\t.select(\"rect\").style(\"stroke-opacity\", 0);\r\n\r\n\t\t\tg.selectAll(\".subBars\").data(newbars.subBars)\r\n\t\t\t\t.transition().duration(bP.duration())\r\n\t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\t\t\t\t.select(\"rect\").attr(\"x\", fx).attr(\"y\", fy).attr(\"width\", fw).attr(\"height\", fh);\r\n\r\n\t\t\tg.selectAll(\".edges\").data(newbars.edges)\r\n\t\t\t\t.transition().duration(bP.duration())\r\n\t\t\t\t.style(\"fill-opacity\", bP.edgeOpacity())\r\n\t\t\t\t.attr(\"d\", function (d) { return d.path });\r\n\r\n\t\t\tg.selectAll(\".mainBars\").data(newbars.mainBars)\r\n\t\t\t\t.transition().duration(bP.duration())\r\n\t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\t\t\t\t.select(\"rect\").attr(\"x\", fx).attr(\"y\", fy).attr(\"width\", fw).attr(\"height\", fh);\r\n\t\t}\r\n\t\tfunction fx(d) { return -d.width }\r\n\t\tfunction fy(d) { return -d.height }\r\n\t\tfunction fw(d) { return 2 * d.width }\r\n\t\tfunction fh(d) { return 2 * d.height }\r\n\r\n\t\treturn bP;\r\n\t}\r\n\tviz.gg = function () {\r\n\t\tvar innerRadius, outerRadius, startAngle, endAngle, needleColor, innerFaceColor, faceColor\r\n\t\t\t, domain, value, angleOffset, duration, ease, g, dpg, ticks, majorTicks\r\n\t\t\t, minorTickStart, minorTickEnd, majorTickStart, majorTickEnd, labelLocation\r\n            ;\r\n\t\tvar def = {\r\n\t\t\tinnerRadius: 20, outerRadius: 150, angleOffset: 0.7\r\n\t\t\t, startAngle: -1.5 * π, endAngle: 0.5 * π\r\n\t\t\t, minorTickStart: .9, minorTickEnd: .95, majorTickStart: .82, majorTickEnd: .95\r\n\t\t\t, needleColor: \"#de2c2c\", innerFaceColor: \"#999999\", faceColor: \"#666666\"\r\n\t\t\t, domain: [0, 100], duration: 500, ease: \"cubicInOut\"\r\n\t\t\t, ticks: d3.range(0, 101, 2), majorTicks: function (d) { return d % 10 === 0 }\r\n\t\t\t, labelLocation: .7\r\n\t\t};\r\n\t\tfunction gg(_) {\r\n\t\t\tg = _;\r\n\t\t\t_.each(function () {\r\n\t\t\t\tvar g = d3.select(this);\r\n\t\t\t\tvar a = gg.scale();\r\n\t\t\t\tvar mS = gg.minorTickStart(), mE = gg.minorTickEnd(), MS = gg.majorTickStart(), ME = gg.majorTickEnd();\r\n\t\t\t\tvar ticks = gg.ticks(), mT = gg.majorTicks(), lL = gg.labelLocation();\r\n\t\t\t\tvar or = gg.outerRadius();\r\n\r\n\t\t\t\tg.append(\"circle\").attr(\"r\", or)\r\n\t\t\t\t\t.style(\"fill\", \"url(#vizgg3\" + dpg + \")\")\r\n\t\t\t\t\t.attr(\"class\", \"face\");\r\n\r\n\t\t\t\tg.append(\"circle\").attr(\"r\", gg.innerRadius())\r\n\t\t\t\t\t.style(\"fill\", \"url(#vizgg2\" + dpg + \")\")\r\n\t\t\t\t\t.style(\"filter\", \"url(#vizgg5\" + dpg + \")\")\r\n\t\t\t\t\t.attr(\"class\", \"innerFace\");\r\n\r\n\t\t\t\tvar tickg = g.append(\"g\");\r\n\t\t\t\ttickg.selectAll(\"line\").data(ticks).enter().append(\"line\")\r\n\t\t\t\t\t.attr(\"class\", function (d) { return mT(d) ? \"majorTicks\" : \"minorTicks\" })\r\n\t\t\t\t\t.attr(\"x1\", function (d) { return or * (mT(d) ? MS : mS) * Math.cos(a(d)); })\r\n\t\t\t\t\t.attr(\"y1\", function (d) { return or * (mT(d) ? MS : mS) * Math.sin(a(d)); })\r\n\t\t\t\t\t.attr(\"x2\", function (d) { return or * (mT(d) ? ME : mE) * Math.cos(a(d)); })\r\n\t\t\t\t\t.attr(\"y2\", function (d) { return or * (mT(d) ? ME : mE) * Math.sin(a(d)); });\r\n\r\n\t\t\t\tg.selectAll(\"text\").data(ticks.filter(mT))\r\n\t\t\t\t\t.enter().append(\"text\").attr(\"class\", \"label\")\r\n\t\t\t\t\t.attr(\"x\", function (d) { return or * lL * Math.cos(a(d)); })\r\n\t\t\t\t\t.attr(\"y\", function (d) { return or * lL * Math.sin(a(d)); })\r\n\t\t\t\t\t.attr(\"dy\", 3)\r\n\t\t\t\t\t.text(function (d) { return d; });\r\n\r\n\t\t\t\tvar r = gg.outerRadius() / def.outerRadius;\r\n\r\n\t\t\t\tvar rot = gg.scale()(gg.value()) * 180 / π + 90;\r\n\r\n\t\t\t\tg.append(\"g\").attr(\"transform\", \"translate(1,1)\")\r\n\t\t\t\t\t.selectAll(\".needleshadow\").data([0]).enter().append(\"g\")\r\n\t\t\t\t\t.attr(\"transform\", \"rotate(\" + rot + \")\")\r\n\t\t\t\t\t.attr(\"class\", \"needleshadow\")\r\n\t\t\t\t\t.append(\"path\")\r\n\t\t\t\t\t.attr(\"d\", [\"m 0\", -130 * r, 5 * r, 175 * r, -10 * r, \"0,z\"].join(\",\"))\r\n\t\t\t\t\t.style(\"filter\", \"url(#vizgg6\" + dpg + \")\");\r\n\r\n\t\t\t\tg.selectAll(\".needle\").data([0]).enter().append(\"g\")\r\n\t\t\t\t\t.attr(\"transform\", \"rotate(\" + rot + \")\")\r\n\t\t\t\t\t.attr(\"class\", \"needle\")\r\n\t\t\t\t\t.append(\"polygon\")\r\n\t\t\t\t\t.attr(\"points\", [-0.5 * r, -130 * r, 0.5 * r, -130 * r, 5 * r, 45 * r, -5 * r, 45 * r].join(\",\"))\r\n\t\t\t\t\t.style(\"fill\", \"url(#vizgg4\" + dpg + \")\");\r\n\t\t\t});\r\n\t\t}\r\n\t\tgg.scale = function () {\r\n\t\t\treturn d3.scale.linear().domain(gg.domain())\r\n\t\t\t\t.range([def.startAngle + gg.angleOffset(), def.endAngle - gg.angleOffset()]);\r\n\t\t}\r\n\t\tgg.innerRadius = function (_) {\r\n\t\t\tif (!arguments.length) return typeof innerRadius !== \"undefined\" ? innerRadius : def.innerRadius;\r\n\t\t\tinnerRadius = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.outerRadius = function (_) {\r\n\t\t\tif (!arguments.length) return typeof outerRadius !== \"undefined\" ? outerRadius : def.outerRadius;\r\n\t\t\touterRadius = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.angleOffset = function (_) {\r\n\t\t\tif (!arguments.length) return typeof angleOffset !== \"undefined\" ? angleOffset : def.angleOffset;\r\n\t\t\tangleOffset = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.labelLocation = function (_) {\r\n\t\t\tif (!arguments.length) return typeof labelLocation !== \"undefined\" ? labelLocation : def.labelLocation;\r\n\t\t\tlabelLocation = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.ticks = function (_) {\r\n\t\t\tif (!arguments.length) return typeof ticks !== \"undefined\" ? ticks : def.ticks;\r\n\t\t\tticks = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.majorTicks = function (_) {\r\n\t\t\tif (!arguments.length) return typeof majorTicks !== \"undefined\" ? majorTicks : def.majorTicks;\r\n\t\t\tmajorTicks = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.minorTickStart = function (_) {\r\n\t\t\tif (!arguments.length) return typeof minorTickStart !== \"undefined\" ? minorTickStart : def.minorTickStart;\r\n\t\t\tminorTickStart = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.minorTickEnd = function (_) {\r\n\t\t\tif (!arguments.length) return typeof minorTickEnd !== \"undefined\" ? minorTickEnd : def.minorTickEnd;\r\n\t\t\tminorTickEnd = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.majorTickStart = function (_) {\r\n\t\t\tif (!arguments.length) return typeof majorTickStart !== \"undefined\" ? majorTickStart : def.majorTickStart;\r\n\t\t\tmajorTickStart = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.majorTickEnd = function (_) {\r\n\t\t\tif (!arguments.length) return typeof majorTickEnd !== \"undefined\" ? majorTickEnd : def.majorTickEnd;\r\n\t\t\tmajorTickEnd = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.needleColor = function (_) {\r\n\t\t\tif (!arguments.length) return typeof needleColor !== \"undefined\" ? needleColor : def.needleColor;\r\n\t\t\tneedleColor = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.innerFaceColor = function (_) {\r\n\t\t\tif (!arguments.length) return typeof innerFaceColor !== \"undefined\" ? innerFaceColor : def.innerFaceColor;\r\n\t\t\tinnerFaceColor = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.faceColor = function (_) {\r\n\t\t\tif (!arguments.length) return typeof faceColor !== \"undefined\" ? faceColor : def.faceColor;\r\n\t\t\tfaceColor = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.domain = function (_) {\r\n\t\t\tif (!arguments.length) return typeof domain !== \"undefined\" ? domain : def.domain;\r\n\t\t\tdomain = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.duration = function (_) {\r\n\t\t\tif (!arguments.length) return typeof duration !== \"undefined\" ? duration : def.duration;\r\n\t\t\tduration = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.ease = function (_) {\r\n\t\t\tif (!arguments.length) return typeof ease !== \"undefined\" ? ease : def.ease;\r\n\t\t\tease = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.value = function (_) {\r\n\t\t\tif (!arguments.length) return typeof value !== \"undefined\" ? value : .5 * (def.domain[0] + def.domain[1]);\r\n\t\t\tvalue = _;\r\n\t\t\treturn gg;\r\n\t\t}\r\n\t\tgg.defs = function (svg, dg) {\r\n\r\n\t\t\tvar defs = svg.append(\"defs\");\r\n\t\t\tdpg = dg;\r\n\t\t\tvar nc = gg.needleColor();\r\n\t\t\tvar fc = gg.innerFaceColor();\r\n\t\t\tvar fbc = gg.faceColor();\r\n\r\n\t\t\tvar lg1 = viz.defs(defs).lG().id(\"vizgg1\" + dg).sel();\r\n\t\t\tviz.defs(lg1).stop().offset(\"0\").stopColor(nc);\r\n\t\t\tviz.defs(lg1).stop().offset(\"1\").stopColor(d3.rgb(nc).darker(1));\r\n\r\n\t\t\tvar rg1 = viz.defs(defs).rG().id(\"vizgg2\" + dg)\r\n\t\t\t\t.fx(\"35%\").fy(\"65%\").r(\"65%\").spreadMethod(\"pad\").sel();\r\n\t\t\tviz.defs(rg1).stop().offset(\"0\").stopColor(fc);\r\n\t\t\tviz.defs(rg1).stop().offset(\"1\").stopColor(d3.rgb(fc).darker(2));\r\n\r\n\t\t\tvar rg2 = viz.defs(defs).rG().id(\"vizgg3\" + dg)\r\n\t\t\t\t.fx(\"35%\").fy(\"65%\").r(\"65%\").spreadMethod(\"pad\").sel();\r\n\t\t\tviz.defs(rg2).stop().offset(\"0\").stopColor(fbc);\r\n\t\t\tviz.defs(rg2).stop().offset(\"1\").stopColor(d3.rgb(fbc).darker(2));\r\n\r\n\t\t\tviz.defs(defs).lG().id(\"vizgg4\" + dg).gradientUnits(\"userSpaceOnUse\")\r\n\t\t\t\t.y1(\"80\").x1(\"-10\").y2(\"80\").x2(\"10\").xlink(\"#vizgg1\" + dg)\r\n\r\n\t\t\tvar fl1 = viz.defs(defs).filter().id(\"vizgg5\" + dg).sel();\r\n\t\t\tviz.defs(fl1).feFlood().result(\"flood\").floodColor(\"rgb(0,0,0)\").floodOpacity(\"0.6\");\r\n\t\t\tviz.defs(fl1).feComposite().result(\"composite1\").operator(\"in\").in2(\"SourceGraphic\").in(\"flood\");\r\n\t\t\tviz.defs(fl1).feGaussianBlur().result(\"blur\").stdDeviation(\"2\").in(\"composite1\");\r\n\t\t\tviz.defs(fl1).feOffset().result(\"offset\").dy(\"2\").dx(\"2\");\r\n\t\t\tviz.defs(fl1).feComposite().result(\"composite2\").operator(\"over\").in2(\"offset\").in(\"SourceGraphic\");\r\n\r\n\t\t\tvar fl2 = viz.defs(defs).filter().x(\"-0.3\").y(\"-0.3\").height(\"1.8\").width(\"1.8\").id(\"vizgg6\" + dg).sel();\r\n\t\t\tviz.defs(fl2).feGaussianBlur().stdDeviation(\"2\");\r\n\t\t}\r\n\r\n\t\tgg.setNeedle = function (a) {\r\n\t\t\tvar newAngle = gg.scale()(a) * 180 / π + 90\r\n\t\t\t\t, oldAngle = gg.scale()(gg.value()) * 180 / π + 90\r\n\t\t\t\t, d3ease = gg.ease()\r\n\t\t\t\t;\r\n\t\t\tg.selectAll(\".needle\").data([a])\r\n\t\t\t\t.transition().duration(gg.duration())\r\n\t\t\t\t.attrTween(\"transform\", function (d) { return iS(oldAngle, newAngle); })\r\n\t\t\t\t.ease(d3ease);\r\n\r\n\t\t\tg.selectAll(\".needleshadow\").data([a])\r\n\t\t\t\t.transition().duration(gg.duration())\r\n\t\t\t\t.attrTween(\"transform\", function (d) { return iS(oldAngle, newAngle); })\r\n\t\t\t\t.ease(d3ease)\r\n\t\t\t\t.each(\"end\", function () { let angle = a; });\r\n\r\n\t\t\tgg.value(a);\r\n\r\n\t\t\tfunction iS(o, n) {\r\n\t\t\t\treturn d3.interpolateString(\"rotate(\" + o + \")\", \"rotate(\" + n + \")\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn gg;\r\n\t}\r\n\tviz.ch = function () {\r\n\t\tvar source = function (d) { return d[0]; }\r\n\t\t\t, target = function (d) { return d[1]; }\r\n\t\t\t, value = function (d) { return d[2]; }\r\n\t\t\t, label = function (d) { return d.source + \" (\" + d.value + \")\" }\r\n\t\t\t, sort = d3.ascending\r\n\t\t\t, padding = 0.03, startAngle = 0, innerRadius = 180, outerRadius = 200, chordOpacity = .7\r\n\t\t\t, labelPadding = 0.02, min = 0, duration = 500, reComputeLayout = true\r\n\t\t\t, g, data, fill, keys, subgrp, chordExist, groups, chords, newgroups, newchords\r\n\t\t\t;\r\n\r\n\t\tfunction ch(_) {\r\n\t\t\tg = _;\r\n\r\n\t\t\tif (!chords) relayout();\r\n\t\t\tfunction arc(d) {\r\n\t\t\t\treturn viz_arc([innerRadius, outerRadius, d.startAngle, d.endAngle]);\r\n\t\t\t}\r\n\t\t\tfunction chord(d) {\r\n\t\t\t\treturn viz_chord(innerRadius, d.startAngle, d.endAngle,\r\n\t\t\t\t\tinnerRadius, d.endStartAngle, d.endEndAngle);\r\n\t\t\t}\r\n\r\n\t\t\t_.each(function () {\r\n\t\t\t\tvar g = d3.select(this);\r\n\r\n\t\t\t\tvar grps = g.selectAll(\".groups\").data(groups)\r\n\t\t\t\t\t.enter().append(\"g\").attr(\"class\", \"groups\")\r\n\t\t\t\t\t.on(\"mouseover\", ch.mouseover)\r\n\t\t\t\t\t.on(\"mouseout\", ch.mouseout);\r\n\r\n\t\t\t\tvar labels = grps.append(\"text\").attr(\"class\", \"label\");\r\n\t\t\t\tvar r = (1 + ch.labelPadding()) * ch.outerRadius();\r\n\t\t\t\tvar lbl = ch.label();\r\n\r\n\t\t\t\tlabels.filter(function (d) { return d.type == \"g\" })\r\n\t\t\t\t\t.attr(\"x\", function (d) { return r * Math.cos(angle(d)); })\r\n\t\t\t\t\t.attr(\"y\", function (d) { return r * Math.sin(angle(d)); })\r\n\t\t\t\t\t.text(lbl)\r\n\t\t\t\t\t.style(\"text-anchor\", function (d) { var a = angle(d); return a < π2 || a > τ - π2 ? \"start\" : \"end\"; })\r\n\t\t\t\t\t.each(function (d) { this._current = d; })\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\tgrps.append(\"path\")\r\n\t\t\t\t\t.style(\"fill\", function (d) { return fill(d.source) })\r\n\t\t\t\t\t.style(\"stroke\", function (d) { return fill(d.source) })\r\n\t\t\t\t\t.attr(\"d\", arc)\r\n\t\t\t\t\t.each(function (d) { this._current = d; })\r\n\t\t\t\t\t.filter(function (d) { return d.type == \"g\" })\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\tg.append(\"g\").attr(\"class\", \"chords\")\r\n\t\t\t\t\t.selectAll(\".chord\")\r\n\t\t\t\t\t.data(chords)\r\n\t\t\t\t\t.enter().append(\"g\").attr(\"class\", \"chord\")\r\n\t\t\t\t\t.append(\"path\")\r\n\t\t\t\t\t.each(function (d) { this._current = d; })\r\n\t\t\t\t\t.attr(\"d\", chord)\r\n\t\t\t\t\t.style(\"fill\", function (d) { return fill(d.target) })\r\n\t\t\t\t\t.style(\"opacity\", ch.chordOpacity())\r\n\t\t\t\t\t.style(\"stroke\", function (d) { return fill(d.target) })\r\n\t\t\t\t\t.style(\"display\", function (d) { return d.display ? \"inline\" : \"none\"; })\r\n\t\t\t\t\t;\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t\tch.data = function (_) {\r\n\t\t\tif (!arguments.length) return data;\r\n\t\t\tdata = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.fill = function (_) {\r\n\t\t\tif (!arguments.length) return fill;\r\n\t\t\tfill = _;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.duration = function (_) {\r\n\t\t\tif (!arguments.length) return duration;\r\n\t\t\tduration = _;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.chordOpacity = function (_) {\r\n\t\t\tif (!arguments.length) return chordOpacity;\r\n\t\t\tchordOpacity = _;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.innerRadius = function (_) {\r\n\t\t\tif (!arguments.length) return innerRadius;\r\n\t\t\tinnerRadius = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.outerRadius = function (_) {\r\n\t\t\tif (!arguments.length) return outerRadius;\r\n\t\t\touterRadius = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.source = function (_) {\r\n\t\t\tif (!arguments.length) return source;\r\n\t\t\tsource = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.target = function (_) {\r\n\t\t\tif (!arguments.length) return target;\r\n\t\t\ttarget = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.value = function (_) {\r\n\t\t\tif (!arguments.length) return value;\r\n\t\t\tvalue = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.padding = function (_) {\r\n\t\t\tif (!arguments.length) return padding;\r\n\t\t\tpadding = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.labelPadding = function (_) {\r\n\t\t\tif (!arguments.length) return labelPadding;\r\n\t\t\tlabelPadding = _;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.sort = function (_) {\r\n\t\t\tif (!arguments.length) return sort;\r\n\t\t\tsort = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.startAngle = function (_) {\r\n\t\t\tif (!arguments.length) return startAngle;\r\n\t\t\tstartAngle = _;\r\n\t\t\treComputeLayout = true;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.chords = function () {\r\n\t\t\tif (reComputeLayout) relayout();\r\n\t\t\treturn chords;\r\n\t\t}\r\n\t\tch.groups = function () {\r\n\t\t\tif (reComputeLayout) relayout();\r\n\t\t\treturn groups;\r\n\t\t}\r\n\t\tch.label = function (_) {\r\n\t\t\tif (!arguments.length) return label;\r\n\t\t\tlabel = _;\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\tch.mouseover = function (d) {\r\n\t\t\trelayouts(d.source);\r\n\t\t\ttransition(1);\r\n\t\t}\r\n\t\tch.mouseout = function (d) {\r\n\t\t\ttransition(0);\r\n\t\t}\r\n\r\n\t\tfunction transition(f) {\r\n\t\t\tfunction arc(d, t) {\r\n\t\t\t\treturn viz_arc([innerRadius, outerRadius, d.startAngle, d.endAngle]);\r\n\t\t\t}\r\n\t\t\tfunction chord(d) {\r\n\t\t\t\treturn viz_chord(innerRadius, d.startAngle, d.endAngle,\r\n\t\t\t\t\tinnerRadius, d.endStartAngle, d.endEndAngle);\r\n\t\t\t}\r\n\t\t\tfunction chordTween(a) {\r\n\t\t\t\tvar i = d3.interpolate(this._current, a);\r\n\t\t\t\tthis._current = i(0);\r\n\t\t\t\treturn function (t) { return chord(i(t)); };\r\n\t\t\t}\r\n\t\t\tfunction arcTween(a) {\r\n\t\t\t\tvar i = d3.interpolate(this._current, a);\r\n\t\t\t\tthis._current = i(0);\r\n\t\t\t\treturn function (t) { return arc(i(t), t); };\r\n\t\t\t}\r\n\t\t\tfunction labelTweenx(a) {\r\n\t\t\t\tvar i = d3.interpolate(this._current, a);\r\n\t\t\t\tthis._current = i(0);\r\n\t\t\t\treturn function (t) { return r * Math.cos(angle(i(t))); };\r\n\t\t\t}\r\n\t\t\tfunction labelTweeny(a) {\r\n\t\t\t\tvar i = d3.interpolate(this._current, a);\r\n\t\t\t\tthis._current = i(0);\r\n\t\t\t\treturn function (t) { return r * Math.sin(angle(i(t))); };\r\n\t\t\t}\r\n\r\n\t\t\tvar gp = g.selectAll(\".groups\").data(f ? newgroups : ch.groups());\r\n\t\t\tvar r = (1 + ch.labelPadding()) * ch.outerRadius();\r\n\t\t\tvar lbl = ch.label();\r\n\r\n\t\t\tgp.select(\"path\").transition().duration(duration).attrTween(\"d\", arcTween);\r\n\r\n\t\t\tgp.select(\".label\").filter(function (d) { return d.type == \"g\" })\r\n\t\t\t\t.transition().duration(duration)\r\n\t\t\t\t.attrTween(\"x\", labelTweenx)\r\n\t\t\t\t.attrTween(\"y\", labelTweeny)\r\n\t\t\t\t.text(lbl)\r\n\t\t\t\t.style(\"text-anchor\", function (d) { var a = angle(d); return a < π2 || a > τ - π2 ? \"start\" : \"end\"; });\r\n\r\n\t\t\tvar opacity = ch.chordOpacity();\r\n\r\n\t\t\tg.select(\".chords\").selectAll(\".chord\")\r\n\t\t\t\t.data(f ? newchords : ch.chords()).select(\"path\")\r\n\t\t\t\t.transition().duration(duration).attrTween(\"d\", chordTween)\r\n\t\t\t\t.style(\"opacity\", function (d) { return d.display ? opacity : 0; });\r\n\t\t}\r\n\t\tfunction angle(d) {\r\n\t\t\treturn viz_reduceAngle((d.startAngle + d.endAngle) / 2);\r\n\t\t}\r\n\t\tfunction isBottom(d) {\r\n\t\t\treturn angle(d) < 1.5 * π && angle(d) >= .5 * π ? 1 : 0;\r\n\t\t}\r\n\t\tfunction relayout() {\r\n\t\t\tkeys = [];\r\n\t\t\tdata.forEach(function (d) {\r\n\t\t\t\tif (keys.indexOf(source(d)) == -1) keys.push(source(d));\r\n\t\t\t\tif (keys.indexOf(target(d)) == -1) keys.push(target(d));\r\n\t\t\t});\r\n\t\t\tkeys = keys.sort(sort);\r\n\r\n\t\t\tsubgrp = {};\r\n\t\t\tchordExist = {};\r\n\t\t\tkeys.forEach(function (k) {\r\n\t\t\t\tsubgrp[k] = {}; chordExist[k] = {};\r\n\t\t\t\tkeys.forEach(function (l) { subgrp[k][l] = 0; chordExist[k][l] = false; })\r\n\t\t\t});\r\n\r\n\t\t\tdata.forEach(function (d) { var s = source(d), t = target(d); subgrp[s][t] += value(d); chordExist[s][t] = true; });\r\n\r\n\t\t\tgroups = [];\r\n\r\n\t\t\tkeys.forEach(function (k, i) {\r\n\t\t\t\t//if(chordExist[k][k]) \r\n\t\t\t\tgroups.push({\r\n\t\t\t\t\tsource: k\r\n\t\t\t\t\t, type: \"gs\"\r\n\t\t\t\t\t, value: 0\r\n\t\t\t\t\t, skipPad: true\r\n\t\t\t\t\t, index: i\r\n\t\t\t\t});\r\n\t\t\t\tgroups.push({\r\n\t\t\t\t\tsource: k\r\n\t\t\t\t\t, type: \"g\"\r\n\t\t\t\t\t, value: d3.sum(keys, function (d) { return subgrp[k][d] })\r\n\t\t\t\t\t, skipPad: false\r\n\t\t\t\t\t, index: i\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tviz_circularPartition(groups, padding, min, undefined, startAngle);\r\n\t\t\tchords = [];\r\n\t\t\tgroups.filter(function (g) { return g.type == \"g\" }).forEach(function (g, gi) {\r\n\t\t\t\tvar gia = viz_shiftarray(keys.length, gi);\r\n\r\n\t\t\t\tvar grpbarsgia = viz_getbars(gia.map(function (d) { return subgrp[g.source][keys[d]]; }), 0, 0, g.startAngle, g.endAngle);\r\n\r\n\t\t\t\tgia.forEach(function (si, i) {\r\n\t\t\t\t\tvar t1 = grpbarsgia[i];\r\n\t\t\t\t\t//if(chordExist[g.source][keys[si]])\r\n\t\t\t\t\tchords.push({\r\n\t\t\t\t\t\tstartAngle: t1.c - t1.v / 2\r\n\t\t\t\t\t\t, endAngle: t1.c + t1.v / 2\r\n\t\t\t\t\t\t, value: t1.value\r\n\t\t\t\t\t\t, source: g.source\r\n\t\t\t\t\t\t, target: keys[si]\r\n\t\t\t\t\t\t, type: \"c\"\r\n\t\t\t\t\t\t, display: chordExist[g.source][keys[si]]\r\n\t\t\t\t\t\t, index: gi\r\n\t\t\t\t\t\t, subindex: si\r\n\t\t\t\t\t\t, indexsubindex: gi + \"-\" + si\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar m = d3.map(chords, function (d) { return d.indexsubindex; });\r\n\t\t\tchords.forEach(function (d) {\r\n\t\t\t\tif (d.subindex == d.index) {\r\n\t\t\t\t\td.endStartAngle = d.startAngle; d.endEndAngle = d.startAngle;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar z = m.get(d.subindex + \"-\" + d.index);\r\n\t\t\t\td.endStartAngle = z.startAngle;\r\n\t\t\t\td.endEndAngle = z.startAngle;\r\n\t\t\t});\r\n\t\t\treComputeLayout = false;\r\n\t\t}\r\n\t\tfunction relayouts(fixedSource) {\r\n\t\t\tvar fg = groups.filter(function (g) { return g.source == fixedSource && g.type == \"g\" })[0];\r\n\t\t\tnewgroups = [];\r\n\r\n\t\t\tkeys.forEach(function (k, i) {\r\n\t\t\t\tnewgroups.push({\r\n\t\t\t\t\tsource: k\r\n\t\t\t\t\t, startAngle: fg.startAngle\r\n\t\t\t\t\t, endAngle: fg.endAngle\r\n\t\t\t\t\t, padAngle: fg.padAngle\r\n\t\t\t\t\t, percent: fg.percent\r\n\t\t\t\t\t, type: \"gs\"\r\n\t\t\t\t\t, value: k == fixedSource ? subgrp[k][k] : 0\r\n\t\t\t\t\t, skipPad: k == fixedSource && chordExist[k][k] ? false : true\r\n\t\t\t\t\t, index: i\r\n\t\t\t\t});\r\n\t\t\t\tif (k == fixedSource)\r\n\t\t\t\t\tnewgroups.push({\r\n\t\t\t\t\t\tsource: k\r\n\t\t\t\t\t\t, startAngle: fg.startAngle\r\n\t\t\t\t\t\t, endAngle: fg.endAngle\r\n\t\t\t\t\t\t, padAngle: fg.padAngle\r\n\t\t\t\t\t\t, percent: fg.percent\r\n\t\t\t\t\t\t, type: \"g\"\r\n\t\t\t\t\t\t, value: fg.value\r\n\t\t\t\t\t\t, skipPad: false\r\n\t\t\t\t\t\t, index: i\r\n\t\t\t\t\t});\r\n\t\t\t\telse\r\n\t\t\t\t\tnewgroups.push({\r\n\t\t\t\t\t\tsource: k\r\n\t\t\t\t\t\t, type: \"g\"\r\n\t\t\t\t\t\t, value: subgrp[fixedSource][k]\r\n\t\t\t\t\t\t, skipPad: false\r\n\t\t\t\t\t\t, index: i\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tviz_circularPartition(newgroups, padding, min, fixedSource, startAngle);\r\n\r\n\t\t\tfunction mid(z) { return (z.endAngle + z.startAngle) }\r\n\t\t\tvar sm = mid(fg);\r\n\t\t\tgroups.forEach(function (g, i) {\r\n\t\t\t\tvar g1 = newgroups[i];\r\n\t\t\t\tvar f = (mid(g) < sm);\r\n\t\t\t\tg1.startAngle -= (f ? τ : 0);\r\n\t\t\t\tg1.endAngle -= (f ? τ : 0);\r\n\t\t\t});\r\n\r\n\t\t\tnewchords = [];\r\n\t\t\tnewgroups.filter(function (g) { return g.type == \"g\" }).forEach(function (g, gi) {\r\n\t\t\t\tvar gia = viz_shiftarray(keys.length, gi);\r\n\r\n\t\t\t\tvar a0 = gia.map(function (d) {\r\n\t\t\t\t\tvar k = keys[d];\r\n\t\t\t\t\treturn g.source == fixedSource ? subgrp[g.source][k] : k == fixedSource ? subgrp[k][g.source] : 0;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar grpbarsgia = viz_getbars(a0, 0, 0, g.startAngle, g.endAngle);\r\n\r\n\t\t\t\tgia.forEach(function (si, i) {\r\n\t\t\t\t\tvar t1 = grpbarsgia[i];\r\n\t\t\t\t\tnewchords.push({\r\n\t\t\t\t\t\tstartAngle: t1.c - t1.v / 2\r\n\t\t\t\t\t\t, endAngle: t1.c + t1.v / 2\r\n\t\t\t\t\t\t, value: t1.value\r\n\t\t\t\t\t\t, source: g.source\r\n\t\t\t\t\t\t, target: keys[si]\r\n\t\t\t\t\t\t, type: \"c\"\r\n\t\t\t\t\t\t, display: g.source === fixedSource\r\n\t\t\t\t\t\t, index: gi\r\n\t\t\t\t\t\t, subindex: si\r\n\t\t\t\t\t\t, indexsubindex: gi + \"-\" + si\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar m = d3.map(newchords.map(function (d) { return { startAngle: d.startAngle, endAngle: d.endAngle, indexsubindex: d.indexsubindex }; })\r\n\t\t\t\t, function (d) { return d.indexsubindex; });\r\n\t\t\tvar gmap = d3.map(newgroups.filter(function (d) { return d.type == \"gs\" }), function (d) { return d.source; });\r\n\r\n\t\t\tnewchords.forEach(function (d) {\r\n\t\t\t\tif (d.subindex == d.index) {\r\n\t\t\t\t\tvar g0 = gmap.get(d.source);\r\n\t\t\t\t\td.endStartAngle = g0.startAngle; d.endEndAngle = g0.endAngle;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar z = m.get(d.subindex + \"-\" + d.index);\r\n\t\t\t\td.endStartAngle = z.startAngle;\r\n\t\t\t\td.endEndAngle = z.endAngle;\r\n\t\t\t\tif (d.source !== fixedSource) {\r\n\t\t\t\t\td.startAngle = d.endAngle;\r\n\t\t\t\t\td.endEndAngle = d.endStartAngle;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction viz_circularPartition(data, pad, min, fixedSource, startAngle) {\r\n\t\t\tvar fixed = (fixedSource !== undefined), ind = 0;\r\n\r\n\t\t\tif (fixed) {\r\n\t\t\t\tvar found = false;\r\n\t\t\t\tfor (; ind < data.length; ind++) {\r\n\t\t\t\t\tif (data[ind].source == fixedSource && data[ind].type == \"g\") { found = true; break; }\r\n\t\t\t\t}\r\n\t\t\t\tif (!found) console.log(\"The fixed source '\" + fixedSource + \"' is not a valid key\");\r\n\t\t\t}\r\n\t\t\tvar dorder = d3.range(data.length);\r\n\t\t\tif (fixed) dorder = dorder.slice(ind).concat(dorder.slice(0, ind));\r\n\r\n\t\t\tvar a0 = data.filter(function (d) { return (!fixed || d.source !== fixedSource || d.type != \"g\") && !d.skipPad })\r\n\t\t\t\t.map(function (d) { return d.value; });\r\n\r\n\t\t\tvar ta = 2 * Math.PI - (fixed ? (data[ind].endAngle - data[ind].startAngle + 2 * pad) : 0);\r\n\r\n\t\t\tvar x = (fixed ? data[ind].endAngle + pad : startAngle), total = d3.sum(a0);\r\n\t\t\tvar r = viz_getratio(a0, pad, min, ta <= 0 ? 0 : ta, total, fixed ? true : false);\r\n\r\n\t\t\tdorder.slice(fixed ? 1 : 0).forEach(function (i) {\r\n\t\t\t\tvar v = r * data[i].value;\r\n\t\t\t\tvar w = (v < min ? min - v : 0) / 2;\r\n\r\n\t\t\t\tdata[i].startAngle = x;\r\n\t\t\t\tdata[i].endAngle = x + v;\r\n\t\t\t\tdata[i].padAngle = w;\r\n\t\t\t\tdata[i].percent = data[i].value / (total || 1);\r\n\r\n\t\t\t\tx += v + w + (data[i].skipPad ? 0 : pad);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn ch;\r\n\t}\r\n\tviz.defs = function (_) {\r\n\t\tvar defs = {}, sel = _;\r\n\t\tdefs.sel = function () { return sel; }\r\n\t\tdefs.lG = function () { sel = sel.append(\"linearGradient\"); return defs; }\r\n\t\tdefs.rG = function () { sel = sel.append(\"radialGradient\"); return defs; }\r\n\t\tdefs.stop = function () { sel = sel.append(\"stop\"); return defs; }\r\n\t\tdefs.filter = function () { sel = sel.append(\"filter\"); return defs; }\r\n\t\tdefs.feFlood = function () { sel = sel.append(\"feFlood\"); return defs; }\r\n\t\tdefs.feComposite = function () { sel = sel.append(\"feComposite\"); return defs; }\r\n\t\tdefs.feOffset = function () { sel = sel.append(\"feOffset\"); return defs; }\r\n\t\tdefs.feGaussianBlur = function () { sel = sel.append(\"feGaussianBlur\"); return defs; }\r\n\t\tdefs.result = function (_) { sel = sel.attr(\"result\", _); return defs; }\r\n\t\tdefs.floodColor = function (_) { sel = sel.attr(\"flood-color\", _); return defs; }\r\n\t\tdefs.floodOpacity = function (_) { sel = sel.attr(\"flood-opacity\", _); return defs; }\r\n\t\tdefs.stdDeviation = function (_) { sel = sel.attr(\"stdDeviation\", _); return defs; }\r\n\t\tdefs.operator = function (_) { sel = sel.attr(\"operator\", _); return defs; }\r\n\t\tdefs.height = function (_) { sel = sel.attr(\"height\", _); return defs; }\r\n\t\tdefs.width = function (_) { sel = sel.attr(\"width\", _); return defs; }\r\n\t\tdefs.in = function (_) { sel = sel.attr(\"in\", _); return defs; }\r\n\t\tdefs.in2 = function (_) { sel = sel.attr(\"in2\", _); return defs; }\r\n\t\tdefs.id = function (_) { sel = sel.attr(\"id\", _); return defs; }\r\n\t\tdefs.fx = function (_) { sel = sel.attr(\"fx\", _); return defs; }\r\n\t\tdefs.fy = function (_) { sel = sel.attr(\"fy\", _); return defs; }\r\n\t\tdefs.dx = function (_) { sel = sel.attr(\"dx\", _); return defs; }\r\n\t\tdefs.dy = function (_) { sel = sel.attr(\"dy\", _); return defs; }\r\n\t\tdefs.x1 = function (_) { sel = sel.attr(\"x1\", _); return defs; }\r\n\t\tdefs.y1 = function (_) { sel = sel.attr(\"y1\", _); return defs; }\r\n\t\tdefs.x2 = function (_) { sel = sel.attr(\"x2\", _); return defs; }\r\n\t\tdefs.y2 = function (_) { sel = sel.attr(\"y2\", _); return defs; }\r\n\t\tdefs.x = function (_) { sel = sel.attr(\"x\", _); return defs; }\r\n\t\tdefs.y = function (_) { sel = sel.attr(\"y\", _); return defs; }\r\n\t\tdefs.r = function (_) { sel = sel.attr(\"r\", _); return defs; }\r\n\t\tdefs.spreadMethod = function (_) { sel = sel.attr(\"spreadMethod\", _); return defs; }\r\n\t\tdefs.gradientUnits = function (_) { sel = sel.attr(\"gradientUnits\", _); return defs; }\r\n\t\tdefs.xlink = function (_) { sel = sel.attr(\"xlink:href\", _); return defs; }\r\n\t\tdefs.offset = function (_) { sel = sel.attr(\"offset\", _); return defs; }\r\n\t\tdefs.stopColor = function (_) { sel = sel.attr(\"stop-color\", _); return defs; }\r\n\t\tdefs.path = function () { sel = sel.append(\"path\"); return defs; }\r\n\t\tdefs.d = function (_) { sel = sel.attr(\"d\", _); return defs; }\r\n\t\treturn defs;\r\n\t}\r\n\t// viz.bar = function () {\r\n    //     console.log(1)\r\n\r\n\t// \tfunction bar(_) {\r\n\t// \t\tlet g = _;\r\n\t// \t\t_.each(function () {\r\n\t// \t\t\tvar g = d3.select(this);\r\n\r\n\t// \t\t\tvar bars = bar.bars();\r\n\t// \t\t\tvar dock = bar.dock();\r\n\t// \t\t\tvar top_ = (dock == 't'), bot = (dock == 'b'), left = (dock == 'l'), rght = (dock == 'r');\r\n\t// \t\t\tvar topbot = (dock == 't' || dock == 'b');\r\n\r\n\r\n\t// \t\t\tvar primaryBars = g.selectAll(\".primarybars\")\r\n\t// \t\t\t\t.data(bars).enter().append(\"g\").attr(\"class\", \"primaryBars\")\r\n\t// \t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\r\n\r\n\t// \t\t\tvar secondaryBars = primaryBars.selectAll(\".secondaryBars\").data(function (d) { return d.values; })\r\n\t// \t\t\t\t.enter().append(\"g\").attr(\"class\", \"secondaryBars\")\r\n\t// \t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\r\n\r\n\t// \t\t\tvar fill = bar.fill();\r\n\r\n\t// \t\t\tvar s = secondaryBars.append(\"rect\")\r\n\t// \t\t\t\t.attr(\"width\", viz_width)\r\n\t// \t\t\t\t.attr(\"height\", viz_height);\r\n\r\n\t// \t\t\tvar l = bar.paddingLabel();\r\n\r\n\t// \t\t\tif (fill !== undefined) s.style(\"fill\", fill);\r\n\t// \t\t\tprimaryBars.append(\"text\").attr(\"class\", \"primaryvalue\")\r\n\t// \t\t\t\t.attr(\"x\", function (d) { return d.wf * d.width; })\r\n\t// \t\t\t\t.attr(\"y\", function (d) { return d.hf * d.height; })\r\n\t// \t\t\t\t.attr(\"dx\", function (d) { return 2 * l * (d.wf - .5); })\r\n\t// \t\t\t\t.attr(\"dy\", function (d) { return topbot ? (d.hf ? 3 * l : -l) : l; })\r\n\t// \t\t\t\t.style(\"text-anchor\", function (d) { return topbot ? 'middle' : d.wf ? 'start' : 'end'; })\r\n\t// \t\t\t\t.text(bar.valuePrimary());\r\n\r\n\t// \t\t\tprimaryBars.append(\"text\").attr(\"class\", \"primarykey\")\r\n\t// \t\t\t\t.attr(\"x\", function (d) { return (1 - d.wf) * d.width; })\r\n\t// \t\t\t\t.attr(\"y\", function (d) { return (1 - d.hf) * d.height; })\r\n\t// \t\t\t\t.attr(\"dx\", function (d) { return !topbot ? (d.wf ? -l : l) : 0; })\r\n\t// \t\t\t\t.attr(\"dy\", function (d) { return topbot ? (d.hf ? -l : 3 * l) : l; })\r\n\t// \t\t\t\t.style(\"text-anchor\", function (d) { return topbot ? 'middle' : d.wf ? 'end' : 'start'; })\r\n\t// \t\t\t\t.text(viz_key);\r\n\r\n\t// \t\t\tsecondaryBars.append(\"text\").attr(\"class\", \"secondaryvalue\")\r\n\t// \t\t\t\t.attr(\"x\", viz_width2).attr(\"y\", viz_height2).attr(\"dy\", l)\r\n\t// \t\t\t\t.text(bar.valueSecondary())\r\n\t// \t\t\t\t.style(\"text-anchor\", \"middle\");\r\n\t// \t\t});\r\n\t// \t}\r\n\t// \tlet data;\r\n\t// \tbar.data = viz_assign(bar);\r\n\t// \tbar.width = viz_assign_default(bar, 400);\r\n\t// \tbar.height = viz_assign_default(bar, 400);\r\n\t// \tbar.dock = viz_assign_default(bar, 'b');\r\n\t// \tbar.fill = viz_assign_default(bar, undefined);\r\n\t// \tbar.paddingInner = viz_assign_default(bar, 0.1);\r\n\t// \tbar.paddingOuter = viz_assign_default(bar, 0.1);\r\n\t// \tbar.paddingLabel = viz_assign_default(bar, 6);\r\n\t// \tbar.value = viz_assign_default(bar, viz_d1);\r\n\t// \tbar.keyPrimary = viz_assign_default(bar, viz_d0);\r\n\t// \tbar.keySecondary = viz_assign_default(bar, undefined);\r\n\t// \tbar.sortPrimary = viz_assign_default(bar, d3.ascending);\r\n\t// \tbar.sortSecondary = viz_assign_default(bar, d3.ascending);\r\n\t// \tbar.valuePrimary = viz_assign_default(bar, viz_value);\r\n\t// \tbar.valueSecondary = viz_assign_default(bar, viz_value);\r\n\t// \tbar.valueDomain = viz_assign_default(bar, undefined);\r\n\t// \t// bar.primaryKeys = function () {\r\n\t// \t// \treturn d3.set(data, bar.keyPrimary()).values().sort(bar.sortPrimary());\r\n\t// \t// }\r\n\t// \tbar.keyScale = function () {\r\n\t// \t\tvar dock = bar.dock();\r\n\t// \t\tvar range = { 'l': bar.height(), 'r': bar.height(), 't': bar.width(), 'b': bar.width() };\r\n\r\n\t// \t\treturn d3.scaleBand()\r\n\t// \t\t\t.domain(bar.primaryKeys())\r\n\t// \t\t\t.range([0, range[dock]])\r\n\t// \t\t\t.paddingInner(bar.paddingInner())\r\n\t// \t\t\t.paddingOuter(bar.paddingOuter());\r\n\t// \t}\r\n\t// \tfunction nest() {\r\n\t// \t\tvar noSecondary = (bar.keySecondary() === undefined);\r\n\t// \t\tvar ps = d3.nest().key(bar.keyPrimary()).sortKeys(bar.sortPrimary());\r\n\r\n\t// \t\tif (!noSecondary) ps = ps.key(bar.keySecondary()).sortKeys(bar.sortSecondary());\r\n\r\n\t// \t\tvar v = bar.value();\r\n\t// \t\tps = ps.rollup(function (d) { return d3.sum(d, v); }).entries(bar.data());\r\n\t// \t\tif (noSecondary) ps.forEach(function (d) { d.values = [{ value: d.value }]; delete d.value; });\r\n\t// \t\treturn ps;\r\n\t// \t}\r\n\t// \tbar.valueScale = function () {\r\n\t// \t\tvar dock = bar.dock();\r\n\t// \t\tvar bot = (dock == 'b'), left = (dock == 'l'), rght = (dock == 'r');\r\n\t// \t\tvar h = bar.height(), w = bar.width();\r\n\t// \t\tvar range = left ? [0, w] : rght ? [w, 0] : bot ? [h, 0] : [0, h];\r\n\r\n\t// \t\tvar domain = bar.valueDomain();\r\n\t// \t\tif (domain == undefined) {\r\n\t// \t\t\tvar ps = nest();\r\n\t// \t\t\tvar min = d3.min(ps, function (d) { return d3.sum(d.values, viz_value); })\r\n\t// \t\t\tvar max = d3.max(ps, function (d) { return d3.sum(d.values, viz_value); });\r\n\t// \t\t\tdomain = [Math.min(0, min), max];\r\n\t// \t\t}\r\n\r\n\t// \t\treturn d3.scaleLinear().domain(domain).range(range);\r\n\t// \t}\r\n\t// \tbar.bars = function () {\r\n\t// \t\tvar data = bar.data();\r\n\t// \t\tvar h = bar.height(), w = bar.width();\r\n\t// \t\tvar dock = bar.dock();\r\n\t// \t\tvar top_ = (dock == 't'), bot = (dock == 'b'), left = (dock == 'l'), rght = (dock == 'r');\r\n\t// \t\tvar topbot = (dock == 't' || dock == 'b');\r\n\t// \t\tvar ps = nest();\r\n\t// \t\tvar keyScale = bar.keyScale();\r\n\r\n\t// \t\tvar domain = bar.valueDomain();\r\n\t// \t\tvar range = left ? [0, w] : rght ? [w, 0] : bot ? [h, 0] : [0, h];\r\n\t// \t\tif (domain == undefined) {\r\n\t// \t\t\tvar min = d3.min(ps, function (d) { return d3.sum(d.values, viz_value); })\r\n\t// \t\t\tvar max = d3.max(ps, function (d) { return d3.sum(d.values, viz_value); });\r\n\t// \t\t\tdomain = [Math.min(0, min), max];\r\n\t// \t\t}\r\n\t// \t\tvar valueScale = d3.scaleLinear().domain(domain).range(range);\r\n\t// \t\tvar bw = keyScale.bandwidth();\r\n\t// \t\tvar d0 = valueScale(0);\r\n\t// \t\tps.forEach(function (d) {\r\n\t// \t\t\td.value = d3.sum(d.values, viz_value);\r\n\t// \t\t\tvar d1 = valueScale(d.value), absd = Math.abs(d1 - d0), mind = Math.min(d0, d1);\r\n\r\n\t// \t\t\td.width = topbot ? bw : absd;\r\n\t// \t\t\td.height = !topbot ? bw : absd;\r\n\t// \t\t\td.x = topbot ? keyScale(d.key) : mind;\r\n\t// \t\t\td.y = !topbot ? keyScale(d.key) : mind;\r\n\t// \t\t\td.wf = topbot ? .5 : left ? (d.value < 0 ? 0 : 1) : (d.value < 0 ? 1 : 0);\r\n\t// \t\t\td.hf = !topbot ? .5 : bot ? (d.value < 0 ? 1 : 0) : (d.value < 0 ? 0 : 1);\r\n\r\n\t// \t\t\tvar z = bot ? 0 : rght ? 0 : 0;\r\n\t// \t\t\td.values.forEach(function (v) {\r\n\t// \t\t\t\tv.primaryKey = d.key;\r\n\t// \t\t\t\tv.secondaryKey = v.key;\r\n\t// \t\t\t\tdelete v.key;\r\n\t// \t\t\t\tvar v0 = valueScale(z)\r\n\t// \t\t\t\t\t, v1 = valueScale(z += v.value)\r\n\t// \t\t\t\t\t, absv = Math.abs(v1 - v0)\r\n\t// \t\t\t\t\t, minv = Math.min(v0, v1);\r\n\r\n\t// \t\t\t\tv.width = !topbot ? absv : bw;\r\n\t// \t\t\t\tv.height = topbot ? absv : bw;\r\n\t// \t\t\t\tv.x = !topbot ? minv - d.x : 0;\r\n\t// \t\t\t\tv.y = topbot ? minv - d.y : 0;\r\n\t// \t\t\t})\r\n\t// \t\t});\r\n\t// \t\treturn ps;\r\n\t// \t}\r\n\t// \treturn bar;\r\n\t// }\r\n\t// viz.lg = function () {\r\n\t// \tfunction lg(_) {\r\n\t// \t\tlet g = _;\r\n\t// \t\t_.each(function () {\r\n    //             console.log(1)\r\n\t// \t\t\tvar g = d3.select(this);\r\n\r\n\t// \t\t\tvar rows = lg.rows(), data = lg.data();\r\n\t// \t\t\trows = (rows == undefined ? data.length : Math.min(rows, data.length));\r\n\t// \t\t\tvar cols = Math.ceil(data.length / rows);\r\n\r\n\t// \t\t\tvar rowScale = d3.scaleBand().domain(d3.range(rows)).range([0, lg.height()]).paddingInner(lg.paddingInner());\r\n\t// \t\t\tvar colScale = d3.scaleBand().domain(d3.range(cols)).range([0, lg.width()]);\r\n\r\n\t// \t\t\tvar size = lg.size(), cellHeight = rowScale.bandwidth(), cellWidth = colScale.bandwidth(), paddingLabel = lg.paddingLabel();\r\n\r\n\t// \t\t\tvar loc = d3.range(data.length).map(function (k) {\r\n\t// \t\t\t\tvar x = k % cols, y = (k - x) / cols;\r\n\t// \t\t\t\treturn { x: colScale(x), y: rowScale(y), width: size, height: cellHeight, key: data[k] };\r\n\t// \t\t\t});\r\n\r\n\t// \t\t\tvar legendg = g.selectAll(\".legendg\").data(loc, function (d) { return d.key; }).enter().append(\"g\").attr(\"class\", \"legendg\")\r\n\t// \t\t\t\t.attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\r\n\r\n\t// \t\t\tlegendg.append(\"text\").attr(\"x\", function (d) { return size + paddingLabel; })\r\n\t// \t\t\t\t.attr(\"y\", function (d) { return d.height / 2; })\r\n\t// \t\t\t\t.attr(\"dy\", 6).text(function (d) { return d.key; });\r\n\r\n\t// \t\t\tlegendg.each(lg.draw());\r\n\t// \t\t\tvar fill = lg.fill();\r\n\t// \t\t\tif (fill !== undefined) { legendg.selectAll('.legend-icon').style('fill', fill); }\r\n\t// \t\t});\r\n\t// \t}\r\n\r\n\t// \tlg.data = viz_assign(lg);\r\n\t// \tlg.rows = viz_assign_default(lg, undefined);\r\n\t// \tlg.width = viz_assign_default(lg, 100);\r\n\t// \tlg.height = viz_assign_default(lg, 200);\r\n\t// \tlg.paddingInner = viz_assign_default(lg, 0.1);\r\n\t// \tlg.paddingLabel = viz_assign_default(lg, 6);\r\n\t// \tlg.size = viz_assign_default(lg, 12);\r\n\t// \tlg.fill = viz_assign_default(lg, undefined);\r\n\t// \tlg.rect = function (d) { d3.select(this).append(\"rect\").attr(\"class\", 'legend-icon').attr(\"height\", viz_height).attr(\"width\", viz_width); }\r\n\t// \tlg.circle = function (d) {\r\n\t// \t\td3.select(this).append(\"circle\").attr(\"class\", 'legend-icon')\r\n\t// \t\t\t.attr(\"r\", Math.min(d.height, d.width)).attr(\"cx\", viz_width2).attr('cy', viz_height2);\r\n\t// \t}\r\n\t// \tlg.draw = viz_assign_default(lg, lg.rect);\r\n\t// \treturn lg;\r\n\t// }\r\n\t// function viz_d(d) { return d }\r\n\t// function viz_d0(d) { return d[0] }\r\n\t// function viz_d1(d) { return d[1] }\r\n\t// function viz_x(d) { return d.x }\r\n\t// function viz_y(d) { return d.y }\r\n\t// function viz_height(d) { return d.height }\r\n\t// function viz_width(d) { return d.width }\r\n\t// function viz_height2(d) { return d.height / 2 }\r\n\t// function viz_width2(d) { return d.width / 2 }\r\n\t// function viz_key(d) { return d.key }\r\n\t// function viz_value(d) { return d.value }\r\n\r\n\tfunction viz_assign(o) {\r\n\t\tvar x;\r\n\t\treturn function (_) {\r\n\t\t\tif (!arguments.length) return x;\r\n\t\t\tx = _;\r\n\t\t\treturn o;\r\n\t\t}\r\n\t}\r\n\tfunction viz_assign_default(o, d) {\r\n\t\tvar x;\r\n\t\treturn function (_) {\r\n\t\t\tif (!arguments.length) return typeof x !== \"undefined\" ? x : d;\r\n\t\t\tx = _;\r\n\t\t\treturn o;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction viz_reduceAngle(a) {\r\n\t\twhile (a > τ) a -= τ;\r\n\t\twhile (a < 0) a += τ;\r\n\t\treturn a;\r\n\t}\r\n\tfunction viz_polar(r, a) { return { x: r * Math.cos(a), y: r * Math.sin(a) }; }\r\n\tfunction viz_getratio(a0, p, m, h, tt, f) {\r\n\t\tif (tt <= 0 || h <= 0) return 0;\r\n\t\tvar a = a0.concat().sort(d3.ascending);\r\n\t\tvar h0 = h - a.length * p + (f ? p : 0);\r\n\t\tvar ret = [], r = 0, t = 0;\r\n\r\n\t\td3.range(a.length).forEach(function (d) {\r\n\t\t\tt = (h0 - m * d) / (tt -= (a[d - 1] || 0));\r\n\t\t\tr += a[d] * t <= m ? 1 : 0;\r\n\t\t\tret.push(t);\r\n\t\t});\r\n\t\treturn ret[r];\r\n\t}\r\n\tfunction viz_getbars(a, p, m, h0, h1) {\r\n\t\tvar x = h0, total = d3.sum(a);\r\n\t\tvar r = viz_getratio(a, p, m, h1 - h0, total, false);\r\n\t\tvar s = a.map(function (d) {\r\n\t\t\tvar v = r * d;\r\n\t\t\tvar w = (v < m ? m : v) / 2;\r\n\t\t\tx += 2 * w + p;\r\n\t\t\treturn { c: x - w, v: v, w: w, value: d, percent: d / (total || 1) }\r\n\t\t});\r\n\t\treturn s;\r\n\t}\r\n\tfunction viz_arc(x) {\r\n\t\tfunction polar(r, t) { return [r * Math.cos(t), r * Math.sin(t)]; }\r\n\t\tvar ss = polar(x[0], x[2]), se = polar(x[0], x[3]), es = polar(x[1], x[2]), ee = polar(x[1], x[3]);\r\n\t\treturn [\"M\", ss, \"A\", x[0], x[0], \"0\", (x[3] - x[2] > π ? 1 : 0), \"1\", se, \"L\", ee,\r\n\t\t\t\"A\", x[1], x[1], \"0\", (x[3] - x[2] > π ? 1 : 0), \"0\", es, \"z\"].join(\" \");\r\n\t}\r\n\tfunction viz_chord(rs, ss, se, re, es, ee) {\r\n\t\tvar pss = p(rs, ss), pse = p(rs, se), pes = p(re, es), pee = p(re, ee);\r\n\r\n\t\treturn \"M\" + pss + arc(rs, pse, se - ss)\r\n\t\t\t+ ((ss == es && se == ee) ? curve(pss, ss, se, re) : curve(pes, se, es, re) + arc(re, pee, ee - es) + curve(pss, ss, ee, rs)) + \"Z\";\r\n\r\n\t\tfunction arc(r, p, a) { return \"A\" + r + \",\" + r + \" 0 \" + +(a > π) + \",1 \" + p; }\r\n\t\tfunction p(r, a) { return [r * Math.cos(a), r * Math.sin(a)]; }\r\n\t\t// function eq(a, b) { return a.a0 == b.a0 && a.a1 == b.a1; }\r\n\t\tfunction curve(p1, a0, a1, r) {\r\n\t\t\ta1 = a1 + (a1 < a0 ? τ : 0);\r\n\t\t\tvar a = a1 - a0;\r\n\t\t\tvar t = 1 - (a > π ? τ - a : a) / π;\r\n\t\t\tt = Math.pow(t, 5);\r\n\t\t\tvar a2 = (a1 + a0) / 2 - (a1 - a0 > π ? π : 0);\r\n\t\t\treturn \"Q\" + (t * r * Math.cos(a2)) + \",\" + (t * r * Math.sin(a2)) + \" \" + p1;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction viz_shiftarray(n, i) {\r\n\t\tlet ret = [];\r\n\t\tfor (var s = i; s > i - n; s--) {\r\n\t\t\tret.push(s < 0 ? s + n : s);\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\r\n\treturn viz\r\n\t//     this.viz=viz;\r\n\t//   }();\r\n\r\n};\r\n\r\nexport default me;\n\n\n// WEBPACK FOOTER //\n// ./src/components/bipartite/viz.js",
        "import initialProperties from './lib/initialProperties';\r\nimport definition from './lib/definition';\r\n\r\nconst define = (window && window.define) || define;\r\n\r\ndefine([\r\n\t\"qlik\",\r\n\t\"jquery\",\r\n\t'./d3.min'\r\n],\r\nfunction(qlik, $, d3){\r\n\tconst me = {};\r\n\r\n\tme.initialProperties = initialProperties\r\n\r\n\tme.definition = definition\r\n\r\n\tme.support = {\r\n\t\tsnapshot: true,\r\n\t\texport: true,\r\n\t\texportData : true\r\n\t};\r\n\r\n\t// Get Engine API app for Selections\r\n\tme.app = qlik.currApp(this);\r\n\r\n\tme.paint = function paint($element, layout) {\r\n\t\tconst vars = $.extend(true,{\r\n\t\t\tv: '1.0.0', \r\n\t\t\tapp: me.app,\r\n\t\t\tid: layout.qInfo.qId,\r\n\t\t\tdata: layout.qHyperCube.qDataPages[0].qMatrix.filter(d => !d[0].qIsNull),\r\n\t\t\theight: $element.height(),\r\n\t\t\twidth: $element.width(),\r\n\t\t\tdimensionTitle: layout.qHyperCube.qDimensionInfo, \r\n\t\t\tmeasureTitle: layout.qHyperCube.qMeasureInfo,\r\n\t\t\ttotalColumns: layout.qHyperCube.qSize.qcx,\r\n\t\t\ttotalRows: layout.qHyperCube.qSize.qcy,\r\n\t\t\tdimension1: {\r\n\t\t\t\tlabel: layout.qHyperCube.qDimensionInfo[0].title\r\n\t\t\t},\r\n\t\t\tmeasure1: {\r\n\t\t\t\tlabel: (layout.qHyperCube.qMeasureInfo[0]) ? layout.qHyperCube.qMeasureInfo[0].qFallbackTitle : null,\r\n\t\t\t},\r\n\t\t\tmeasure2: {\r\n\t\t\t\tlabel: (layout.qHyperCube.qMeasureInfo[1]) ? layout.qHyperCube.qMeasureInfo[1].qFallbackTitle : null,\r\n\t\t\t},\r\n\t\t\tmeasure3: {\r\n\t\t\t\tlabel: (layout.qHyperCube.qMeasureInfo[2]) ? layout.qHyperCube.qMeasureInfo[2].qFallbackTitle : null,\r\n\t\t\t},\r\n\t\t\tmeasure4: {\r\n\t\t\t\tlabel: (layout.qHyperCube.qMeasureInfo[3]) ? layout.qHyperCube.qMeasureInfo[3].qFallbackTitle : null,\r\n\t\t\t},\r\n\t\t\tselected: [],\r\n\t\t\telement: $element,\r\n\t\t\tlayout: layout,\r\n\t\t\tlayout2: layout,\r\n\t\t\tthis: this\r\n\t\t}, layout.vars);\r\n\t\t\r\n\t\tvars.totalRows = layout.totalRows = (layout.totalRows) ? layout.totalRows : layout.qHyperCube.qSize.qcy\r\n\t\t\r\n\t\t// Insert the template for manipulation\r\n\t\tvars.template = `\r\n\t\t\t<div id=\"${vars.id}_inner\" class=\"senseui-chartlib\">\r\n\t\t\t\t<div class=\"sui-selection-bar\">\r\n\t\t\t\t\t<a><span class=\"lui-icon lui-icon--tick\"></span></a>\r\n\t\t\t\t\t<a><span class=\"lui-icon lui-icon--close\"></span></a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"sui-selection-total\"></div>\r\n\t\t\t\t<div class=\"content\"></div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t\t$element.html(vars.template)\r\n\r\n\t\t// Load the selected chart component\r\n\t\tswitch(vars.chart) {\r\n\t\t\tcase 'horizontal-bar':\r\n\t\t\t\trequire('./components/horizontal-bar/').default($element, d3, vars)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'vertical-bar':\r\n\t\t\t\trequire('./components/vertical-bar/').default($element, d3, vars)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'combo':\r\n\t\t\t\trequire('./components/combo/').default(d3, vars)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bipartite':\r\n\t\t\t\trequire('./components/bipartite/').default(d3, vars)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'canvas-barchart':\r\n\t\t\t\trequire('./components/barchartcanvas/').default($element, d3, vars)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'listbox':\r\n\t\t\t\trequire('./components/listbox/').default($element, d3, vars, layout)\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t$(`#${vars.id}_inner .lui-icon--tick`).click(function() {\r\n\t\t\tvars.this.backendApi.selectValues(0, vars.selected, true);\r\n\t\t\tvars.selected=[];\r\n\t\t\t$(`#${vars.id}_inner .sui-selection-bar`).hide()\r\n\t\t\t$(`#${vars.id}_inner .sui-selection-total`).hide()\r\n\t\t\t$(`#${vars.id}_inner .sui-selected-bar`).removeClass(\"sui-selected-bar\")\r\n\t\t\tif (vars.bar && vars.bar.color) {\r\n\t\t\t\t$(`#${vars.id}_inner rect`).css('fill', vars.bar.color)\r\n\t\t\t\t$(`#${vars.id}_inner rect`).css(\"opacity\", \"1\")\r\n\t\t\t}\r\n\t\t})\r\n\t\t$(`#${vars.id}_inner .lui-icon--close`).click(function() {\r\n\t\t\tvars.selected=[];\r\n\t\t\t$(`#${vars.id}_inner .sui-selection-bar`).hide()\r\n\t\t\t$(`#${vars.id}_inner .sui-selection-total`).hide()\r\n\t\t\t$(`#${vars.id}_inner .sui-selected-bar`).removeClass(\"sui-selected-bar\")\r\n\t\t\tif (vars.bar && vars.bar.color) {\r\n\t\t\t\t$(`#${vars.id}_inner rect`).css('fill', vars.bar.color)\r\n\t\t\t\t$(`#${vars.id}_inner rect`).css(\"opacity\", \"1\")\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treturn me\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js",
        "module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/barchartcanvas/index.css\n// module id = 12\n// module chunks = 0",
        "module.exports = \".senseui-chartlib .outer,\\n.senseui-chartlib .content {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n.senseui-chartlib line {\\n  stroke: rgba(0, 0, 0, 0.5);\\n  stroke-width: 1;\\n}\\n.senseui-chartlib text {\\n  font-size: 10px;\\n}\\n.senseui-chartlib .sui-selection-bar {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;\\n  top: 0;\\n  right: 0;\\n}\\n.senseui-chartlib .sui-selection-bar .lui-icon--close {\\n  background-color: red;\\n  color: white;\\n  font-size: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 4px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n.senseui-chartlib .sui-selection-bar .lui-icon--tick {\\n  background-color: green;\\n  color: white;\\n  margin-right: 5px;\\n  font-size: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 4px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/bipartite/index.css\n// module id = 13\n// module chunks = 0",
        "module.exports = \".senseui-chartlib {\\n  /* QLIK */\\n}\\n.senseui-chartlib .outer,\\n.senseui-chartlib .content {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n.senseui-chartlib h2 {\\n  font-size: 14px !important;\\n  margin-top: 0 !important;\\n}\\n.senseui-chartlib .axis {\\n  font: 0.9em sans-serif;\\n}\\n.senseui-chartlib #xaxis path {\\n  stroke: #cccccc;\\n  fill: #cccccc;\\n}\\n.senseui-chartlib #yaxis {\\n  fill: none;\\n}\\n.senseui-chartlib .domain {\\n  fill: #ccc;\\n  stroke: #ccc;\\n}\\n.senseui-chartlib .bar:hover {\\n  cursor: pointer;\\n}\\n.senseui-chartlib .legend .column {\\n  display: inline-block;\\n}\\n.senseui-chartlib .legend .column .box {\\n  width: 10px;\\n  height: 10px;\\n  margin-right: 10px;\\n  display: inline-block;\\n}\\n.senseui-chartlib .qv-object-nav {\\n  cursor: pointer !important;\\n}\\n.senseui-chartlib .qv-object .qv-object-title {\\n  white-space: normal;\\n}\\n.senseui-chartlib .sui-selection-total {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;\\n  font-size: 10px;\\n  bottom: 0;\\n  right: 10px;\\n  padding: 2px 4px;\\n  border: 1px solid lightgray;\\n  border-radius: 3px;\\n}\\n.senseui-chartlib .sui-selection-bar {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;\\n  top: -20px;\\n  right: 0;\\n}\\n.senseui-chartlib .sui-selection-bar .lui-icon--close {\\n  background-color: red;\\n  color: white;\\n  font-size: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 4px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n.senseui-chartlib .sui-selection-bar .lui-icon--tick {\\n  background-color: green;\\n  color: white;\\n  margin-right: 5px;\\n  font-size: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 4px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n.senseui-chartlib .sui-selected-bar {\\n  stroke: #000000 !important;\\n  stroke-width: 1px !important;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/horizontal-bar/index.css\n// module id = 14\n// module chunks = 0",
        "module.exports = \".senseui-chartlib .outer,\\n.senseui-chartlib .content {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n.senseui-chartlib .sui-selection-bar {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;\\n  top: 0;\\n  right: 0;\\n}\\n.senseui-chartlib .sui-selection-bar .lui-icon--close {\\n  background-color: red;\\n  color: white;\\n  font-size: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 4px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n.senseui-chartlib .sui-selection-bar .lui-icon--tick {\\n  background-color: green;\\n  color: white;\\n  margin-right: 5px;\\n  font-size: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 4px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/listbox/index.css\n// module id = 15\n// module chunks = 0",
        "module.exports = \".sui-tip {\\n  position: absolute;\\n  font-size: 11px;\\n  padding: 8px;\\n  background: white !important;\\n  color: #666666;\\n  border: 1px solid #CCCCCC;\\n  /* #404040 = 64,64,64 */\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  background-color: rgba(64, 64, 64, 0.9);\\n  line-height: 1.5;\\n  border-radius: 5px;\\n  max-width: 350px;\\n  -webkit-transition: opacity 1s;\\n  /* Safari */\\n  transition: opacity 1s;\\n  z-index: 1022;\\n  font-family: Arial, Helvetica, sans-serif !important;\\n  -webkit-box-shadow: 0px 4px 7px -4px #999999;\\n  -moz-box-shadow: 0px 4px 7px -4px #999999;\\n  box-shadow: 0px 4px 7px -4px #999999;\\n}\\n.sui-tip .dimension {\\n  font-weight: bold;\\n  font-size: 14px;\\n  display: block;\\n}\\n.sui-tip .measure {\\n  display: block;\\n}\\n.sui-tip .box {\\n  width: 10px;\\n  height: 10px;\\n  display: inline-block;\\n  margin-right: 5px;\\n  border: 1px solid #CCCCCC;\\n}\\n.sui-tip:after,\\n.sui-tip:before {\\n  top: 100%;\\n  left: 50%;\\n  border: solid transparent;\\n  content: \\\" \\\";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.sui-tip:after {\\n  border-color: rgba(255, 255, 255, 0);\\n  border-top-color: #ffffff;\\n  border-width: 10px;\\n  margin-left: -10px;\\n}\\n.sui-tip:before {\\n  border-color: rgba(153, 153, 153, 0);\\n  border-top-color: #999999;\\n  border-width: 11px;\\n  margin-left: -11px;\\n}\\n.sui-tip .tt-container {\\n  display: -webkit-flex;\\n  display: flex;\\n  flex: 1 0 0;\\n  flex-flow: column wrap;\\n}\\n.sui-tip .tt-container .tt-row {\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: row;\\n  flex-direction: row;\\n  -webkit-justify-content: flex-start;\\n  justify-content: flex-start;\\n}\\n.sui-tip .tt-container .tt-row .tt-item-header {\\n  flex: 1 0 100%;\\n  box-sizing: border-box;\\n  background: white;\\n  color: #666666;\\n  padding-bottom: 5px;\\n  font-size: 12px;\\n  font-weight: bold;\\n}\\n.sui-tip .tt-container .tt-row .tt-item-label {\\n  flex: 1 0 auto;\\n  box-sizing: border-box;\\n  background: white;\\n  color: #666666;\\n}\\n.sui-tip .tt-container .tt-row .tt-item-value {\\n  flex: 1 0 auto;\\n  box-sizing: border-box;\\n  background: white;\\n  color: #333333;\\n  text-align: right;\\n  padding-left: 5px;\\n}\\n.sui-tip .tt-container .tt-row:nth-child(2) {\\n  padding-top: 5px;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tooltip/index.css\n// module id = 16\n// module chunks = 0",
        "module.exports = \".senseui-chartlib {\\n  /* QLIK */\\n}\\n.senseui-chartlib h2 {\\n  font-size: 14px !important;\\n  margin-top: 0 !important;\\n}\\n.senseui-chartlib .axis {\\n  font: 0.9em sans-serif;\\n}\\n.senseui-chartlib #xaxis path {\\n  stroke: #cccccc;\\n  fill: #cccccc;\\n}\\n.senseui-chartlib #yaxis {\\n  fill: none;\\n}\\n.senseui-chartlib .domain {\\n  fill: white;\\n  stroke: #ccc;\\n  stroke-width: 1;\\n}\\n.senseui-chartlib .tick line {\\n  stroke: #ccc;\\n  stroke-width: 1;\\n}\\n.senseui-chartlib .bar:hover {\\n  cursor: pointer;\\n}\\n.senseui-chartlib .legend {\\n  position: absolute;\\n  bottom: 13px;\\n  text-align: center;\\n}\\n.senseui-chartlib .qv-object-nav {\\n  cursor: pointer !important;\\n}\\n.senseui-chartlib .qv-object .qv-object-title {\\n  white-space: normal;\\n}\\n.senseui-chartlib .sui-selection-total {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;\\n  font-size: 10px;\\n  bottom: 0;\\n  right: 10px;\\n  padding: 2px 4px;\\n  border: 1px solid lightgray;\\n  border-radius: 3px;\\n}\\n.senseui-chartlib .sui-selection-bar {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;\\n  top: 0;\\n  right: 0;\\n}\\n.senseui-chartlib .sui-selection-bar .lui-icon--close {\\n  background-color: red;\\n  color: white;\\n  font-size: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 4px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n.senseui-chartlib .sui-selection-bar .lui-icon--tick {\\n  background-color: green;\\n  color: white;\\n  margin-right: 5px;\\n  font-size: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 4px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vertical-bar/index.css\n// module id = 17\n// module chunks = 0"
    ],
    "sourceRoot": ""
}